<?php
 /**     
 * The technical support is guaranteed for all modules proposed by Wyomind.
 * The below code is obfuscated in order to protect the module's copyright as well as the integrity of the license and of the source code.
 * The support cannot apply if modifications have been made to the original source code (https://www.wyomind.com/terms-and-conditions.html).
 * Nonetheless, Wyomind remains available to answer any question you might have and find the solutions adapted to your needs.
 * Feel free to contact our technical team from your Wyomind account in My account > My tickets. 
 * Copyright Â© 2019 Wyomind. All rights reserved.
 * See LICENSE.txt for license details.
 */
namespace Wyomind\OrdersExportTool\Model; use \Wyomind\Core\Helper\Progress as ProgressHelper;  class Profiles extends \Magento\Framework\Model\AbstractModel {public $xce=null;public $x26=null;public $x7f=null;  const TMP_DIR = '/var/tmp/';  public $logEnabled = false;  public $isCron = false;  public $limit = false;  public $inc = 0;  public $error = 'Invalid license !!!';  private $xea2 = false;  private $xeac = null;  private $xeba = [];  private $xec7 = [];  private $xedd = false;  private $xef0 = [];  private $xeff = [];  private $xf08 = [];  private $xf11 = [];  private $xf24 = [];  private $xf30 = [];  private $xf3e = [];  private $xf53 = [];  private $xf58 = [];  private $xf67 = [];  private $xf73 = [];  private $xf7e = [];  private $xf8b = [];  public $dateTime = null;  public $appResource = null;  public $ioFile = null;  public $objectManager = null;  public $helper = null;  public $functionCollectionFactory = null;  public $variablesCollectionFactory = null;  public $coreHelper = null;  public $orderRepository = null;  public $addressCollectionFactory = null;  public $creditmemoCollectionFactory = null;  public $invoiceCollectionFactory = null;  public $itemCollectionFactory = null;  public $paymentCollectionFactory = null;  public $shipmentCollectionFactory = null;  public $messageManager = null;  public $storageHelper = null;  public $outputHelper = null;  public $filesystem = null;  private $x10a0 = null;  private $x10b0 = null;  public $searchCriteriaBuilder = null;  protected $_eventManager = null;  private $x10d9;  private $x10e8;  private $x10f6;  private $x1103 = false;  public function __construct( \Magento\Framework\Model\Context $context, \Magento\Framework\Registry $registry, \Magento\Framework\Stdlib\DateTime\DateTime $dateTime, \Magento\Framework\App\ResourceConnection $appResource, \Magento\Framework\Filesystem $filesystem, \Magento\Framework\Filesystem\Io\File $ioFile, \Magento\Framework\ObjectManagerInterface $objectManager, \Wyomind\OrdersExportTool\Helper\Data $helper, ResourceModel\Functions\CollectionFactory $functionCollectionFactory, ResourceModel\Variables\CollectionFactory $variablesCollectionFactory, \Wyomind\Core\Helper\Data $coreHelper, \Magento\Sales\Api\OrderRepositoryInterface $orderRepository, \Magento\Sales\Model\ResourceModel\Order\Address\CollectionFactory $addressCollectionFactory, \Magento\Sales\Model\ResourceModel\Order\Creditmemo\CollectionFactory $creditmemoCollectionFactory, \Magento\Sales\Model\ResourceModel\Order\Invoice\CollectionFactory $invoiceCollectionFactory, \Magento\Sales\Model\ResourceModel\Order\Item\CollectionFactory $itemCollectionFactory, \Magento\Sales\Model\ResourceModel\Order\Payment\CollectionFactory $paymentCollectionFactory, \Magento\Sales\Model\ResourceModel\Order\Shipment\CollectionFactory $shipmentCollectionFactory, \Magento\Framework\Message\ManagerInterface $messageManager, \Wyomind\OrdersExportTool\Helper\Storage $storageHelper, \Wyomind\OrdersExportTool\Helper\Output $outputHelper, \Wyomind\OrdersExportTool\Helper\Ftp $ftpHelper, \Wyomind\OrdersExportTool\Helper\Email $emailHelper, \Magento\Framework\Api\SearchCriteriaBuilder $searchCriteriaBuilder, \Magento\Framework\Event\Manager $eventManager, \Magento\Framework\Model\ResourceModel\AbstractResource $abstractResource = null, \Magento\Framework\Data\Collection\AbstractDb $abstractDb = null, array $data = [] ) { $coreHelper->constructor($this, func_get_args()); $this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x10c6}}} = $searchCriteriaBuilder; $this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xf9e}}} = $dateTime; $this->{$this->xce->xe53->{$this->x26->xe53->x2d5c}} = $appResource; $this->{$this->x26->xe4b->{$this->x26->xe4b->x109c}} = $filesystem; $this->{$this->x26->xe53->x2d6a} = $ioFile; $this->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xfc9}}} = $objectManager; $this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}} = $helper; $this->{$this->x26->xe4b->{$this->x7f->xe4b->xfe4}} = $functionCollectionFactory; $this->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xff6}}} = $variablesCollectionFactory; $this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x1003}}} = $coreHelper; $this->{$this->x7f->xe53->x2d9d} = $orderRepository; $this->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x101e}}}} = $addressCollectionFactory; $this->{$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->x1023}}} = $creditmemoCollectionFactory; $this->{$this->x7f->xe4b->{$this->x7f->xe4b->x102a}} = $invoiceCollectionFactory; $this->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x103d}}} = $itemCollectionFactory; $this->{$this->x26->xe53->x2dd9} = $paymentCollectionFactory; $this->{$this->x7f->xe4b->{$this->x26->xe4b->x105f}} = $shipmentCollectionFactory; $this->{$this->x7f->xe53->x2df0} = $messageManager; $this->{$this->x7f->xe53->x2dff} = $storageHelper; $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x1093}}} = $outputHelper; $this->{$this->xce->xe4b->{$this->xce->xe4b->x10d3}} = $eventManager; parent::__construct($context, $registry, $abstractResource, $abstractDb, $data); $this->{$this->xce->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->x10e7}}}} = $ftpHelper; $this->{$this->xce->xe53->x2e3a} = $emailHelper; $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}} = $objectManager->{$this->x7f->xe4b->x1c6a}("\127\x79\157\155\x69\x6e\x64\\O\162de\x72\163\x45\170p\157\x72\164T\157\x6fl\\\110el\x70\x65\162\\Pro\x67\162\145\x73\163"); }  public function _construct() { $this->{$this->x26->xe4b->x1c7c}('Wyomind\OrdersExportTool\Model\ResourceModel\Profiles'); }  public function extractParams($x124) {$x10c = $this->xce->xe53->{$this->xce->xe53->{$this->xce->xe53->x370b}};$x115 = $this->xce->xe4b->{$this->x7f->xe4b->x1996};$x11c = $this->x7f->xe62->{$this->xce->xe62->x5454}; ${$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x125c}}} = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfae}}; ${$this->xce->xe4b->{$this->xce->xe4b->x126a}} = ${$this->xce->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->x26->xe53->x2f88}}}}->{$this->x7f->xe4b->x1c88}('core_read'); ${$this->xce->xe4b->x1271} = ${$this->x26->xe62->x4d4b}->{$this->x26->xe4b->x1c98}("\157\162de\162\163\x65\170po\x72\x74\x74o\x6fl_\x70\x72\x6f\146\151\154\145\163"); ${$this->x26->xe62->x4d6a} = ${$this->xce->xe53->{$this->x7f->xe53->x2f8e}}->{$this->xce->xe4b->x1ca7}(${$this->x7f->xe53->{$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->xce->xe53->x2fa0}}}}}); foreach ($x10c(${$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x128d}}}}) as ${$this->xce->xe62->x4d74}) { $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}[${$this->xce->xe62->{$this->x26->xe62->x4d79}}] = (${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1253}}} != null && ($x115(${$this->x26->xe53->{$this->x26->xe53->x2f72}}->{$this->x26->xe4b->x1cb2}(${$this->xce->xe62->{$this->x26->xe62->x4d79}})) || $x11c(${$this->x7f->xe62->x4d3c}->{$this->x26->xe4b->x1cb2}(${$this->xce->xe62->{$this->x7f->xe62->{$this->x26->xe62->x4d7a}}})))) ? ${$this->xce->xe62->{$this->xce->xe62->x4d3e}}->{$this->x26->xe4b->x1cb2}(${$this->x26->xe53->x2fb4}) : $this->{$this->x26->xe4b->x1ce2}(${$this->xce->xe62->{$this->x7f->xe62->{$this->x26->xe62->x4d7a}}}); } }  public function checkReference($x175, $x176) { if (${$this->x26->xe62->x4d84} == 'billing' && isset($this->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x10a8}}}[${$this->xce->xe62->{$this->x7f->xe62->x4d8d}}->{$this->x7f->xe4b->x1cf2}()])) { return $this->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x10ac}}}}[${$this->x7f->xe4b->{$this->x26->xe4b->x12a5}}->{$this->x7f->xe4b->x1cf2}()]; } elseif (${$this->x26->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4d8a}}} == 'shipping' && isset($this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x10b6}}}[${$this->xce->xe62->{$this->x7f->xe62->x4d8d}}->{$this->x26->xe4b->x1d01}()])) { return $this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x10b7}}}}[${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->xce->xe53->x2fd7}}}}->{$this->x26->xe4b->x1d01}()]; } elseif (${$this->xce->xe4b->x1295} == 'payment' && isset($this->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xf1d}}}[${$this->xce->xe53->x2fcd}->{$this->xce->xe4b->x1d18}()])) { return $this->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xf1d}}}[${$this->xce->xe62->x4d8b}->{$this->xce->xe4b->x1d18}()]; } elseif (${$this->x26->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4d8a}}} == 'invoice' && isset($this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->xf2e}}}[${$this->xce->xe53->x2fcd}->{$this->xce->xe4b->x1d18}()])) { return $this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->xf2e}}}[${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->xce->xe53->x2fd7}}}}->{$this->xce->xe4b->x1d18}()]; } elseif (${$this->x26->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4d8a}}} == 'shipment' && isset($this->{$this->x26->xe4b->{$this->x7f->xe4b->xf47}}[${$this->xce->xe53->x2fcd}->{$this->xce->xe4b->x1d18}()])) { return $this->{$this->x26->xe4b->{$this->x7f->xe4b->xf47}}[${$this->x26->xe53->{$this->x7f->xe53->x2fd0}}->{$this->xce->xe4b->x1d18}()]; } elseif (${$this->xce->xe4b->x1295} == 'creditmemo' && isset($this->{$this->x7f->xe53->x2d0c}[${$this->xce->xe53->x2fcd}->{$this->xce->xe4b->x1d18}()])) { return $this->{$this->x7f->xe53->x2d0c}[${$this->x26->xe4b->x12a4}->{$this->xce->xe4b->x1d18}()]; } elseif (${$this->x26->xe4b->{$this->xce->xe4b->x1299}} == 'product' && isset($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xf5e}}}[${$this->xce->xe53->x2fcd}->{$this->xce->xe4b->x1d18}()])) { return $this->{$this->x26->xe4b->{$this->xce->xe4b->xf5a}}[${$this->x7f->xe4b->{$this->x26->xe4b->x12a5}}->{$this->xce->xe4b->x1d18}()]; } elseif (${$this->x26->xe53->x2fc4} == null || ${$this->x26->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4d8a}}} == 'order') { return [${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->xce->xe53->x2fd7}}}}]; } }  public function loadCustomFunctions() {$x17f = $this->xce->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x19c4}}}};$x1b4 = $this->x7f->xe62->{$this->x7f->xe62->{$this->xce->xe62->{$this->xce->xe62->x5470}}};$x1a7 = $this->xce->xe53->{$this->x7f->xe53->x375c}; ${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->x2fe0}}} = $x17f('display_errors'); $x1b4('display_errors', 0); ${$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x12bd}}} = $this->{$this->x7f->xe53->x2d7f}->{$this->x7f->xe4b->x1c6a}(); foreach (${$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x12bd}}} as ${$this->x7f->xe4b->{$this->xce->xe4b->x12c5}}) { try { if (($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->x7f->xe4b->x1dcc}(${$this->xce->xe53->{$this->x26->xe53->x2ff9}}->{$this->x7f->xe4b->x1ddf}(), "\77\x3e" . ${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x12cd}}}}->{$this->x7f->xe4b->x1ddf}())) === false) { if ($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}} || $this->{$this->x7f->xe53->x2c70} || $this->debugEnabled) { $x1b4('display_errors', ${$this->x26->xe53->{$this->x7f->xe53->{$this->x7f->xe53->{$this->x7f->xe53->{$this->xce->xe53->x2fe8}}}}}); throw new \Exception("Syn\164\x61\170\40\145rr\157\x72\40\151n " . ${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x12cd}}}}->{$this->x7f->xe4b->x1ddf}() . ' : ' . $x1a7()["\x6d\145\163\x73age"]); } else { $x1b4('display_errors', ${$this->x26->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x12b4}}}}}); $this->{$this->x7f->xe53->x36e7}("\x53y\x6e\164\141x\40\x65\x72r\157r\x20\151\156\40<\x69>" . ${$this->xce->xe53->{$this->x26->xe53->x2ff9}}->{$this->x7f->xe4b->x1ddf}() . "<\x2fi\76<\x62\x72>" . $x1a7()["m\145\x73s\x61\x67\145"]); throw new \Exception(); } } } catch (\Exception $e) { if ($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}} || $this->{$this->x7f->xe4b->{$this->xce->xe4b->xe6d}} || $this->debugEnabled) { throw new \Exception($e->{$this->x7f->xe4b->x1e28}()); } else { $this->{$this->x7f->xe62->x5412}($e->{$this->x7f->xe4b->x1e28}()); throw new \Exception(); } } } $x1b4('display_errors', ${$this->x26->xe53->{$this->x7f->xe53->{$this->x7f->xe53->{$this->x7f->xe53->{$this->xce->xe53->x2fe8}}}}}); }  public function analyseTemplate($x1ea) {$x1e7 = $this->x7f->xe53->x3760;$x2e1 = $this->x26->xe53->{$this->xce->xe53->x3778};$x22f = $this->xce->xe53->x3780;$x2bb = $this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->{$this->x26->xe62->{$this->xce->xe62->x54b9}}}};$x270 = $this->xce->xe53->{$this->xce->xe53->{$this->x7f->xe53->x37b9}};$x2c0 = $this->x26->xe62->{$this->xce->xe62->x54cd};$x382 = $this->xce->xe53->{$this->xce->xe53->{$this->x7f->xe53->x37d3}};$x390 = $this->x26->xe4b->x1a47; if (!$this->{$this->x7f->xe53->{$this->x26->xe53->x2c71}}) { $this->{$this->xce->xe62->x535f}(); } ${$this->xce->xe4b->x12e1} = []; ${$this->x26->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x12f0}}}}} = $this->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xff6}}}->{$this->x7f->xe4b->x1c6a}(); foreach (${$this->x26->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x12eb}}} as ${$this->x7f->xe53->x3022}) { ${$this->x7f->xe62->{$this->x26->xe62->x4db1}}[${$this->x26->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x12f9}}}->{$this->x7f->xe4b->x1e68}()][] = ${$this->x7f->xe53->x3022}->{$this->xce->xe4b->x1e76}(); $this->{$this->x26->xe53->{$this->xce->xe53->x2d47}}[${$this->x7f->xe4b->x12f5}->{$this->x7f->xe4b->x1e68}() . "\x2e" . ${$this->xce->xe53->{$this->xce->xe53->x3025}}->{$this->xce->xe4b->x1e76}()] = ${$this->x7f->xe53->x3022}->{$this->x7f->xe4b->x1ddf}(); } $this->{$this->x26->xe4b->{$this->x26->xe4b->x10fe}}->log('Custom variables loaded', !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}}); foreach (${$this->x26->xe53->{$this->xce->xe53->{$this->xce->xe53->{$this->x26->xe53->x300e}}}} as ${$this->x7f->xe53->x302d}) { ${$this->xce->xe4b->x1309} = $this->{$this->xce->xe53->x2d57}; ${$this->x7f->xe4b->{$this->x26->xe4b->x1312}} = ${$this->x7f->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4dd1}}}->{$this->x7f->xe4b->x1c88}($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->x7f->xe4b->x1c88}(${$this->xce->xe53->{$this->x26->xe53->x302f}}['connection'])); ${$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x131e}}} = ${$this->x7f->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4dd1}}}->{$this->x26->xe4b->x1c98}(${$this->x7f->xe4b->x12fb}['table']); ${$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x1334}}} = ${$this->x26->xe53->{$this->x26->xe53->{$this->x7f->xe53->x304a}}}->{$this->xce->xe4b->x1ca7}(${$this->xce->xe4b->{$this->xce->xe4b->x131b}}); $this->{$this->x7f->xe53->{$this->x7f->xe53->x2d20}}[] = ${$this->x7f->xe4b->x12fb}['syntax']; foreach ($x2e1(${$this->x26->xe4b->{$this->xce->xe4b->x132f}}) as ${$this->x7f->xe53->x3072}) { ${$this->x26->xe53->{$this->x26->xe53->{$this->x7f->xe53->x3018}}}[${$this->x7f->xe53->x302d}['syntax']][] = ${$this->x7f->xe62->x4dfe}; } } ${$this->xce->xe53->{$this->x7f->xe53->x307d}} = '/(?<pattern>{{\s*(?<reference>' . $x22f('|', $this->{$this->x7f->xe53->{$this->x7f->xe53->x2d20}}) . '|[a-z]+).(?<variable>[a-zA-Z_0-9]+)(\s+(?<parameters>.*))?}})/U'; $x2bb(${$this->x26->xe4b->x133e}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['body'], ${$this->x26->xe62->x4e08}); ${$this->x26->xe53->x308f} = []; foreach (${$this->x26->xe62->x4e08}['variable'] as ${$this->x7f->xe4b->x134c} => ${$this->x26->xe4b->{$this->x26->xe4b->x1359}}) { ${$this->xce->xe53->x30b3} = null; if (!$x270(${$this->x26->xe53->{$this->xce->xe53->{$this->x26->xe53->x308a}}}['reference'][${$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->x30a4}}}], $this->{$this->x26->xe53->x2d1f})) { if ($this->{$this->x26->xe4b->{$this->x7f->xe4b->xea6}} || $this->{$this->x7f->xe53->{$this->x26->xe53->x2c71}}) { throw new \Exception("\x55\x6e\x6b\156o\x77\156\40\162\145\146\145ren\143\145 " . ${$this->x26->xe53->{$this->xce->xe53->{$this->x26->xe53->x308a}}}['reference'][${$this->x26->xe62->{$this->x7f->xe62->x4e21}}] . "\40i\156\40" . ${$this->x7f->xe4b->x1344}['pattern'][${$this->x26->xe62->{$this->x26->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4e25}}}}] . '.'); } else { $this->{$this->x26->xe4b->x1978}("U\156\153\156o\167n\x20\162efe\162\145\156c\x65\x20" . ${$this->xce->xe62->{$this->x26->xe62->x4e09}}['reference'][${$this->x26->xe62->{$this->x7f->xe62->x4e21}}] . " \151\156\40\x3c\x69\x3e" . ${$this->x26->xe53->{$this->x26->xe53->x3089}}['pattern'][${$this->x7f->xe53->x30a0}] . '</i>.'); throw new \Exception(); } } if (!$x270(${$this->x7f->xe4b->x1344}['variable'][${$this->xce->xe62->x4e1f}], ${$this->xce->xe4b->x12e1}[${$this->x26->xe53->{$this->x26->xe53->x3089}}['reference'][${$this->x26->xe4b->{$this->x26->xe4b->x134f}}]])) { if ($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}} || $this->{$this->x7f->xe4b->{$this->xce->xe4b->xe6d}}) { throw new \Exception('Unknown variable ' . ${$this->x26->xe62->x4e08}['variable'][${$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x1350}}}] . ' in ' . ${$this->x26->xe53->{$this->x26->xe53->x3089}}['pattern'][${$this->x7f->xe53->x30a0}] . '.'); } else { $this->{$this->x7f->xe4b->{$this->x26->xe4b->x197b}}("\x55\156\153\156o\167n\x20\166\141r\x69\x61\x62\x6c\145\40" . ${$this->x26->xe62->x4e08}['variable'][${$this->x26->xe62->{$this->x7f->xe62->x4e21}}] . ' in <i>' . ${$this->x26->xe53->{$this->x26->xe53->x3089}}['pattern'][${$this->xce->xe53->{$this->x7f->xe53->x30a1}}] . '</i>.'); throw new \Exception(); } } ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x7f->xe62->x4e17}}}}[${$this->x7f->xe4b->x134c}]['pattern'] = ${$this->x26->xe53->{$this->xce->xe53->{$this->x26->xe53->x308a}}}['pattern'][${$this->x7f->xe53->x30a0}]; ${$this->x26->xe53->{$this->xce->xe53->x3093}}[${$this->x7f->xe53->x30a0}]['variable'] = ${$this->x26->xe53->{$this->xce->xe53->{$this->x26->xe53->x308a}}}['variable'][${$this->x26->xe62->{$this->x7f->xe62->x4e21}}]; ${$this->x26->xe62->{$this->x26->xe62->{$this->x7f->xe62->x4e14}}}[${$this->x26->xe62->{$this->x26->xe62->{$this->x7f->xe62->x4e22}}}]['reference'] = ${$this->x7f->xe4b->x1344}['reference'][${$this->x26->xe4b->{$this->x26->xe4b->x134f}}]; ${$this->xce->xe53->{$this->xce->xe53->x30c3}} = '/(?<name>\b\w+\b)\s*=\s*(?<value>"[^"]*"|\'[^\']*\'|[^"\'<>\s]+)/'; $x2bb(${$this->x7f->xe62->x4e41}, $x2c0(${$this->xce->xe62->{$this->x26->xe62->x4e09}}['parameters'][${$this->x26->xe4b->{$this->x26->xe4b->x134f}}]), ${$this->x26->xe53->{$this->xce->xe53->{$this->x26->xe53->x30cf}}}); ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x7f->xe62->{$this->x26->xe62->x4e1a}}}}}[${$this->x26->xe62->{$this->x7f->xe62->x4e21}}]["\x70a\x72\x61\x6d\x65\164\145\x72\163"] = []; $this->{$this->x7f->xe53->{$this->xce->xe53->x2d34}}[${$this->x26->xe53->{$this->xce->xe53->{$this->x26->xe53->x308a}}}['reference'][${$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x1350}}}]] = true; foreach ($x2e1(${$this->xce->xe62->{$this->x7f->xe62->x4e49}}['name']) as ${$this->xce->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x138b}}}}) { if (${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->x7f->xe53->{$this->x26->xe53->x30d2}}}}}['name'][${$this->xce->xe4b->{$this->x26->xe4b->x1382}}] == 'output') { ${$this->xce->xe62->{$this->xce->xe62->x4e34}} = ${$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->x137b}}}}['value'][${$this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->{$this->x7f->xe62->x4e59}}}}]; ${$this->x26->xe53->{$this->xce->xe53->{$this->x26->xe53->{$this->x26->xe53->x309c}}}}[${$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x1350}}}]['php'] = ${$this->x26->xe4b->{$this->xce->xe4b->x1361}}; } else if (${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->x7f->xe53->{$this->x26->xe53->x30d2}}}}}['name'][${$this->xce->xe62->{$this->xce->xe62->x4e51}}] == 'as') { ${$this->x7f->xe62->{$this->x26->xe62->{$this->x26->xe62->x4e62}}} = ${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->x30d0}}}}['value'][${$this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->x4e56}}}]; ${$this->x26->xe53->{$this->xce->xe53->x3093}}[${$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->x30a4}}}]['as'] = ${$this->xce->xe62->x4e5e}; } if (${$this->x26->xe53->{$this->xce->xe53->{$this->x26->xe53->x30cf}}}['name'][${$this->xce->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x138b}}}}] == 'if') { ${$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->xce->xe53->{$this->x26->xe53->x30ee}}}}} = ${$this->xce->xe62->x4e46}['value'][${$this->xce->xe53->x30d7}]; ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x7f->xe62->{$this->x26->xe62->x4e1a}}}}}[${$this->xce->xe53->{$this->x7f->xe53->x30a1}}]['as'] = ${$this->xce->xe62->{$this->x7f->xe62->{$this->x26->xe62->x4e6f}}}; } else { ${$this->x7f->xe4b->x1347}[${$this->x26->xe62->{$this->x26->xe62->{$this->x7f->xe62->x4e22}}}]['parameters'][] = [ 'name' => ${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->x7f->xe53->{$this->x26->xe53->x30d2}}}}}['name'][${$this->xce->xe62->{$this->xce->xe62->x4e51}}], 'value' => ${$this->x26->xe4b->{$this->x7f->xe4b->x1378}}['value'][${$this->x7f->xe53->{$this->x26->xe53->x30d8}}], ]; } } if (!isset($this->{$this->x26->xe4b->{$this->x26->xe4b->xf86}}[${$this->x26->xe62->x4e08}['reference'][${$this->x26->xe62->{$this->x7f->xe62->x4e21}}] . '.' . ${$this->x26->xe62->x4e08}['variable'][${$this->x26->xe4b->{$this->x26->xe4b->x134f}}]])) { if (${$this->xce->xe62->{$this->xce->xe62->x4e34}} != null) { ${$this->x26->xe53->{$this->xce->xe53->x3093}}[${$this->x26->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x1352}}}}]['expression'] = $x382("\$s\x65\x6c\146", "\$\151te\x6d\55\76g\x65\164\x44\x61ta\x28'" . (${$this->x26->xe53->{$this->xce->xe53->{$this->x26->xe53->x308a}}}["va\x72i\141\x62le"][${$this->x26->xe62->{$this->x7f->xe62->x4e21}}]) . "\x27\x29", $x390(${$this->x26->xe62->x4e32}, 1, -1)); } else { ${$this->x7f->xe4b->x1347}[${$this->x7f->xe4b->x134c}]['expression'] = "\x2f* \x2a\x2f" . ${$this->x26->xe53->{$this->x26->xe53->x3089}}["va\162\x69a\142le"][${$this->x26->xe62->{$this->x7f->xe62->x4e21}}]; } } else { if (${$this->x26->xe62->x4e32} != null) { ${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->x3097}}}[${$this->xce->xe62->x4e1f}]['expression'] = $x382("\$\163\145\154\x66", $this->{$this->x26->xe53->{$this->xce->xe53->x2d47}}[${$this->xce->xe53->x3086}['reference'][${$this->x26->xe62->{$this->x26->xe62->{$this->x7f->xe62->x4e22}}}] . '.' . ${$this->x26->xe53->{$this->x26->xe53->x3089}}['variable'][${$this->x7f->xe53->x30a0}]], $x390(${$this->xce->xe62->{$this->x7f->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4e39}}}}, 1, -1)); } else { ${$this->xce->xe4b->{$this->x26->xe4b->x1348}}[${$this->xce->xe53->{$this->x7f->xe53->x30a1}}]['expression'] = $this->{$this->x26->xe53->{$this->xce->xe53->x2d47}}[${$this->x26->xe53->{$this->x26->xe53->x3089}}['reference'][${$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x1350}}}] . '.' . ${$this->xce->xe62->{$this->x26->xe62->x4e09}}['variable'][${$this->xce->xe62->x4e1f}]]; } } } $this->{$this->x7f->xe4b->{$this->xce->xe4b->xee4}} = ${$this->x26->xe53->{$this->xce->xe53->x3093}}; }  public function requireData($x3b8) { $this->{$this->xce->xe53->x2d33}[${$this->xce->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4e80}}}}}] = true; }  private function x3bd() {$x3c4 = $this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->{$this->xce->xe62->{$this->x26->xe62->x54f7}}}};$x3f0 = $this->x7f->xe62->{$this->x7f->xe62->x5502};$x3d4 = $this->xce->xe62->x550c; ${$this->xce->xe53->{$this->x7f->xe53->{$this->x26->xe53->x30fc}}} = $this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x10cb}}}}; if ($x3c4($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['store_id'])) { ${$this->xce->xe53->x3102} = $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['store_id']; } else { ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->x4e92}}} = $x3f0("\x2c", $this->{$this->xce->xe53->x2cb9}['store_id']); }  ${$this->xce->xe53->{$this->x26->xe53->x30fa}}->{$this->x26->xe4b->x1efa}('store_id', ${$this->x7f->xe62->x4e8d}, 'in');  if ($this->{$this->xce->xe53->x2cb9}['last_exported_id'] != '') { if ($x3d4($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['last_exported_id'])) { ${$this->x7f->xe4b->x13ad}->{$this->x26->xe4b->x1efa}('increment_id', (int)$this->{$this->xce->xe53->x2cb9}['last_exported_id'], 'gteq'); } else { ${$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->x26->xe53->x30ff}}}}->{$this->x26->xe4b->x1efa}('increment_id', $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['last_exported_id'], 'gteq'); } }  ${$this->xce->xe62->{$this->x26->xe62->x4e86}}->{$this->x26->xe4b->x1efa}('status', $x3f0(',', $this->{$this->xce->xe53->x2cb9}['states']), 'in');  ${$this->xce->xe62->{$this->xce->xe62->{$this->x26->xe62->{$this->x7f->xe62->x4e8b}}}}->{$this->x26->xe4b->x1efa}('customer_group_id', $x3f0(',', $this->{$this->xce->xe53->x2cb9}['customer_groups']), 'in'); if (isset($this->{$this->xce->xe4b->{$this->x26->xe4b->xf90}}['order'])) { foreach ($this->{$this->xce->xe4b->{$this->x26->xe4b->xf90}}['order'] as ${$this->xce->xe53->{$this->x26->xe53->x3117}}) { if (${$this->xce->xe62->{$this->x26->xe62->x4e9c}}->checked) { if (${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x13ce}}}->condition == 'in' || ${$this->x26->xe4b->x13c6}->condition == 'nin') { ${$this->x26->xe53->{$this->xce->xe53->x3120}} = $x3f0(',', ${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x13ce}}}->value); } else { ${$this->x7f->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4ea4}}} = ${$this->x7f->xe4b->{$this->xce->xe4b->x13ca}}->value; } ${$this->x7f->xe4b->{$this->x7f->xe4b->x13b0}}->{$this->x26->xe4b->x1efa}(${$this->x7f->xe53->x3115}->code, ${$this->x7f->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4ea4}}}, ${$this->xce->xe53->{$this->x26->xe53->x3117}}->condition); } } } ${$this->xce->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x4eb3}}} = $this->{$this->xce->xe4b->{$this->x7f->xe4b->x100a}}->{$this->x7f->xe4b->x1f5b}(${$this->xce->xe53->{$this->x26->xe53->x30fa}}->{$this->x7f->xe4b->x1c6a}()); return ${$this->xce->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x4eb3}}}->{$this->xce->xe4b->x1f6e}(); }  private function x414() { ${$this->xce->xe4b->{$this->x7f->xe4b->x13e1}} = $this->{$this->x26->xe62->{$this->xce->xe62->{$this->xce->xe62->{$this->x7f->xe62->{$this->x26->xe62->x5389}}}}}(); ${$this->xce->xe53->{$this->xce->xe53->{$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->x3141}}}}} = []; ${$this->x26->xe4b->{$this->x26->xe4b->x13f7}} = []; $this->{$this->x26->xe4b->{$this->xce->xe4b->xf79}} = []; foreach (${$this->xce->xe53->{$this->xce->xe53->{$this->x7f->xe53->x3130}}} as ${$this->xce->xe62->{$this->x26->xe62->{$this->x7f->xe62->x4edf}}}) { $this->{$this->x7f->xe53->x2d3a}[] = ${$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x1408}}}->{$this->xce->xe4b->x1d18}(); ${$this->xce->xe62->{$this->xce->xe62->x4ec0}}[] = ${$this->x7f->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->x7f->xe53->x3153}}}}->{$this->x7f->xe4b->x1cf2}(); ${$this->x26->xe4b->{$this->x26->xe4b->x13f7}}[] = ${$this->x7f->xe53->{$this->x7f->xe53->{$this->x7f->xe53->x3152}}}->{$this->x26->xe4b->x1d01}(); } $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->xefd}}}} = ${$this->x26->xe53->x3133}; $this->{$this->xce->xe4b->{$this->xce->xe4b->xf01}} = ${$this->x7f->xe62->{$this->x7f->xe62->{$this->xce->xe62->x4ecf}}}; unset(${$this->xce->xe53->{$this->xce->xe53->{$this->x7f->xe53->x3130}}}); }  public function extractShippingAddresses() { ${$this->xce->xe53->x315c} = $this->{$this->x26->xe4b->{$this->x26->xe4b->x1015}}->{$this->x7f->xe4b->x1c6a}(); ${$this->x7f->xe4b->x140e}->{$this->x26->xe4b->x1fb3}('*'); ${$this->xce->xe53->x315c}->{$this->xce->xe4b->x1fbc}('entity_id', ['in' => $this->{$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xf06}}}]); ${$this->xce->xe4b->{$this->x26->xe4b->x1418}} = []; foreach (${$this->x26->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x4ee6}}} as ${$this->x7f->xe53->x316c}) { ${$this->x26->xe62->{$this->x7f->xe62->{$this->x26->xe62->{$this->x7f->xe62->x4ef2}}}}[${$this->xce->xe62->{$this->xce->xe62->x4efb}}->{$this->x26->xe4b->x1fc3}()][] = ${$this->xce->xe62->{$this->xce->xe62->x4efb}}->{$this->xce->xe4b->x1d18}(); $this->{$this->xce->xe4b->{$this->xce->xe4b->x10b5}}[${$this->xce->xe62->x4ef8}->{$this->xce->xe4b->x1d18}()][] = ${$this->xce->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x4f00}}}; } unset(${$this->xce->xe53->x315c}); return ${$this->xce->xe4b->{$this->x26->xe4b->x1418}}; }  public function extractBillingAddresses() { ${$this->xce->xe62->x4f07} = $this->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1019}}}->{$this->x7f->xe4b->x1c6a}(); ${$this->xce->xe62->{$this->xce->xe62->x4f0b}}->{$this->x26->xe4b->x1fb3}('*'); ${$this->xce->xe62->x4f07}->{$this->xce->xe4b->x1fbc}('entity_id', ['in' => $this->{$this->x7f->xe4b->{$this->x7f->xe4b->xef7}}]); ${$this->xce->xe4b->x142d} = []; foreach (${$this->x7f->xe53->{$this->x26->xe53->{$this->x26->xe53->x317c}}} as ${$this->xce->xe62->{$this->x7f->xe62->x4f29}}) { ${$this->x26->xe4b->{$this->x7f->xe4b->x1430}}[${$this->x26->xe4b->x1434}->{$this->x26->xe4b->x1fc3}()][] = ${$this->xce->xe62->x4f25}->{$this->xce->xe4b->x1d18}(); $this->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x10a8}}}[${$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x143c}}}}->{$this->xce->xe4b->x1d18}()][] = ${$this->x7f->xe53->x3189}; } unset(${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x1427}}}); return ${$this->xce->xe62->{$this->xce->xe62->x4f17}}; }  public function extractPayments() {$x4a8 = $this->xce->xe53->{$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->x26->xe53->x381c}}}}; ${$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x1446}}}} = $this->{$this->x26->xe53->x2dd9}->{$this->x7f->xe4b->x1c6a}(); ${$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->x1445}}}->{$this->x26->xe4b->x1fb3}('*'); ${$this->x26->xe53->x318f}->{$this->xce->xe4b->x1fbc}('parent_id', ['in' => $this->{$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xf7c}}}]); if (isset($this->{$this->x26->xe53->x2d4e}['order_payment'])) { foreach ($this->{$this->xce->xe4b->{$this->x26->xe4b->xf90}}['order_payment'] as ${$this->xce->xe4b->{$this->x26->xe4b->x144b}}) { if (${$this->xce->xe4b->{$this->x26->xe4b->x144b}}->checked) { if (${$this->xce->xe53->x319f}->condition == 'in' || ${$this->x7f->xe62->x4f32}->condition == 'nin') { ${$this->x7f->xe62->{$this->x7f->xe62->x4f34}}->value = $x4a8(',', ${$this->x7f->xe62->x4f32}->value); } ${$this->x7f->xe62->{$this->x26->xe62->x4f30}}->{$this->xce->xe4b->x2053}(${$this->x7f->xe62->x4f32}->code, [${$this->xce->xe4b->{$this->x26->xe4b->x144b}}->condition => ${$this->x7f->xe62->x4f32}->value]); } } } ${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->x31a9}}} = []; foreach (${$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x1449}}}}} as ${$this->xce->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x26->xe62->x4f45}}}}) { ${$this->xce->xe4b->x1455}[${$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x146b}}}}->{$this->x26->xe4b->x1fc3}()][] = ${$this->x7f->xe4b->{$this->x7f->xe4b->x1464}}->{$this->xce->xe4b->x1d18}(); $this->{$this->x7f->xe4b->{$this->x26->xe4b->xf1b}}[${$this->xce->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x26->xe62->{$this->x7f->xe62->x4f49}}}}}->{$this->x26->xe4b->x1fc3}()][] = ${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->x7f->xe53->x31ba}}}}; } unset(${$this->xce->xe53->{$this->x26->xe53->x3190}}); return ${$this->xce->xe53->x31a4}; }  public function extractInvoices() {$x4ef = $this->x26->xe62->x5528; ${$this->x7f->xe4b->{$this->x26->xe4b->x1471}} = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->x102a}}->{$this->x7f->xe4b->x1c6a}(); ${$this->x26->xe4b->x146c}->{$this->x26->xe4b->x1fb3}('*'); ${$this->x26->xe4b->x146c}->{$this->xce->xe4b->x1fbc}('order_id', ['in' => $this->{$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xf7c}}}]); if (isset($this->{$this->x26->xe53->x2d4e}['invoice'])) { foreach ($this->{$this->x26->xe53->x2d4e}['invoice'] as ${$this->x26->xe62->{$this->x26->xe62->x4f58}}) { if (${$this->xce->xe62->x4f57}->checked) { if (${$this->xce->xe62->x4f57}->condition == 'in' || ${$this->xce->xe4b->x147c}->condition == 'nin') { ${$this->x7f->xe53->x31ce}->value = $x4ef(',', ${$this->xce->xe53->{$this->x7f->xe53->x31d2}}->value); } ${$this->x26->xe62->{$this->xce->xe62->x4f52}}->{$this->xce->xe4b->x2053}(${$this->xce->xe4b->x147c}->code, [${$this->xce->xe53->{$this->x7f->xe53->x31d2}}->condition => ${$this->xce->xe62->x4f57}->value]); } } } ${$this->x7f->xe53->x31da} = []; foreach (${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->x1476}}}} as ${$this->x7f->xe4b->{$this->xce->xe4b->x1494}}) { ${$this->x7f->xe62->{$this->x7f->xe62->x4f61}}[${$this->x7f->xe4b->{$this->xce->xe4b->x1494}}->{$this->xce->xe4b->x20bd}()][] = ${$this->x7f->xe4b->{$this->xce->xe4b->x1494}}->{$this->xce->xe4b->x1d18}(); $this->{$this->xce->xe53->x2d01}[${$this->x7f->xe4b->{$this->xce->xe4b->x1494}}->{$this->xce->xe4b->x20bd}()][] = ${$this->x7f->xe53->{$this->xce->xe53->x31e7}}; } unset(${$this->x26->xe62->{$this->xce->xe62->x4f52}}); return ${$this->x7f->xe62->{$this->x7f->xe62->{$this->xce->xe62->{$this->x7f->xe62->x4f69}}}}; }  public function extractShipments() {$x547 = $this->xce->xe4b->x1a88; ${$this->xce->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x149e}}}} = $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1060}}}->{$this->x7f->xe4b->x1c6a}(); ${$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x149a}}}->{$this->x26->xe4b->x1fb3}('*'); ${$this->x7f->xe53->x31e8}->{$this->xce->xe4b->x1fbc}('order_id', ['in' => $this->{$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xf7c}}}]); ${$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x14ad}}}} = []; if (isset($this->{$this->x7f->xe53->{$this->x7f->xe53->x2d52}}['shipment'])) { foreach ($this->{$this->xce->xe4b->{$this->x26->xe4b->xf90}}['shipment'] as ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x7f->xe62->x4f9b}}}}) { if (${$this->x26->xe62->{$this->x26->xe62->{$this->x26->xe62->x4f97}}}->checked) { if (${$this->xce->xe4b->x14b4}->condition == 'in' || ${$this->x26->xe62->x4f8e}->condition == 'nin') { ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x7f->xe62->x4f9b}}}}->value = $x547(',', ${$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x14bb}}}}}->value); } ${$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x149a}}}->{$this->xce->xe4b->x2053}(${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x7f->xe62->x4f9b}}}}->code, [${$this->x7f->xe53->{$this->x7f->xe53->x3200}}->condition => ${$this->x26->xe62->{$this->x7f->xe62->x4f92}}->value]); } }; } foreach (${$this->x7f->xe53->{$this->x26->xe53->x31ec}} as ${$this->x7f->xe62->x4f9d}) { ${$this->x7f->xe4b->x14a2}[${$this->x7f->xe62->x4f9d}->{$this->xce->xe4b->x20bd}()][] = ${$this->x7f->xe53->{$this->x7f->xe53->x3209}}->{$this->xce->xe4b->x1d18}(); $this->{$this->x26->xe4b->{$this->x7f->xe4b->xf47}}[${$this->xce->xe4b->{$this->x26->xe4b->x14c0}}->{$this->xce->xe4b->x20bd}()][] = ${$this->x7f->xe53->{$this->x7f->xe53->x3209}}; } unset(${$this->x7f->xe53->{$this->x26->xe53->x31ec}}); return ${$this->x7f->xe53->{$this->xce->xe53->{$this->x26->xe53->{$this->xce->xe53->{$this->xce->xe53->x31fa}}}}}; }  public function extractCreditmemos() {$x58e = $this->xce->xe53->x3841; ${$this->xce->xe53->{$this->x7f->xe53->x3212}} = $this->{$this->xce->xe53->x2db5}->{$this->x7f->xe4b->x1c6a}(); ${$this->x7f->xe62->x4f9f}->{$this->x26->xe4b->x1fb3}('*'); ${$this->xce->xe62->{$this->xce->xe62->x4fa3}}->{$this->xce->xe4b->x1fbc}('order_id', ['in' => $this->{$this->x7f->xe53->x2d3a}]); if (isset($this->{$this->xce->xe4b->{$this->x26->xe4b->xf90}}['creditmemo'])) { foreach ($this->{$this->x26->xe53->x2d4e}['creditmemo'] as ${$this->x26->xe4b->{$this->x7f->xe4b->x14d3}}) { if (${$this->x26->xe4b->x14d1}->checked) { if (${$this->xce->xe62->x4fa8}->condition == 'in' || ${$this->x7f->xe62->{$this->x26->xe62->x4faa}}->condition == 'nin') { ${$this->xce->xe62->x4fa8}->value = $x58e(',', ${$this->xce->xe62->x4fa8}->value); } ${$this->xce->xe53->{$this->x26->xe53->{$this->x26->xe53->x3215}}}->{$this->xce->xe4b->x2053}(${$this->xce->xe53->{$this->x26->xe53->{$this->x26->xe53->{$this->x26->xe53->x3226}}}}->code, [${$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x14d7}}}}->condition => ${$this->xce->xe62->x4fa8}->value]); } } } ${$this->xce->xe62->x4fad} = []; foreach (${$this->x7f->xe62->x4f9f} as ${$this->x7f->xe53->{$this->xce->xe53->x3233}}) { ${$this->x26->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->x14e2}}}[${$this->x26->xe62->x4fba}->{$this->xce->xe4b->x20bd}()][] = ${$this->x26->xe62->x4fba}->{$this->xce->xe4b->x1d18}(); $this->{$this->xce->xe4b->{$this->x26->xe4b->xf36}}[${$this->x7f->xe4b->{$this->xce->xe4b->x14e7}}->{$this->xce->xe4b->x20bd}()][] = ${$this->x26->xe62->{$this->x26->xe62->{$this->x7f->xe62->{$this->x26->xe62->x4fc5}}}}; } unset(${$this->xce->xe4b->{$this->xce->xe4b->x14cc}}); return ${$this->xce->xe62->{$this->x7f->xe62->x4fae}}; }  public function extractProducts() {$x5ed = $this->xce->xe53->x384e; ${$this->x26->xe62->x4fca} = []; ${$this->xce->xe4b->x14fc} = []; ${$this->x7f->xe62->{$this->xce->xe62->{$this->x7f->xe62->x4fe3}}} = []; ${$this->xce->xe53->{$this->x7f->xe53->x3254}} = $this->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->x1042}}}}->{$this->x7f->xe4b->x1c6a}(); ${$this->x26->xe62->x4fe8}->{$this->x26->xe4b->x1fb3}('*'); ${$this->xce->xe53->x3251}->{$this->xce->xe4b->x2053}('order_id', ['in' => $this->{$this->x26->xe4b->{$this->xce->xe4b->xf79}}]); if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x1003}}}->{$this->xce->xe4b->x21ad}("\127\x79\157\155\x69\x6e\x64_\101d\166\x61\156ce\x64I\x6e\x76en\164or\171")) { ${$this->x7f->xe53->{$this->x7f->xe53->x325e}} = $this->{$this->xce->xe53->{$this->x26->xe53->x2d5c}}->{$this->x26->xe4b->x1c98}("\x61dva\156\x63\x65d\x69\156vent\157\x72\171\x5f\x61ss\x69gn\x61\164\151on"); ${$this->xce->xe4b->x150b}->{$this->x26->xe4b->x21c7}()->{$this->xce->xe4b->x21d8}( ${$this->x26->xe62->x4fef}, ${$this->xce->xe4b->x1519} . ".\151t\x65\155_\x69d\x20\x3d\40\x6d\x61\x69\x6e\137\x74\141\x62le\x2eit\145\155_\x69\144", ["\107\x52\117U\x50\137\103ON\x43\x41T(\x70la\143\145\x5f\x69d\x29 AS\40\160\x6c\x61\143e\137i\x64"])->{$this->x26->xe4b->x21ec}("\155a\151\x6e_\164\141\x62\x6c\145\56\x69\x74\x65\155\137\x69\144"); } if (isset($this->{$this->x26->xe53->x2d4e}['order_item'])) { foreach ($this->{$this->x7f->xe53->{$this->x7f->xe53->x2d52}}['order_item'] as ${$this->xce->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x1524}}}) { if (${$this->xce->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x1524}}}->checked) { if (${$this->x7f->xe53->x3267}->condition == 'in' || ${$this->xce->xe53->{$this->xce->xe53->x326b}}->condition == 'nin') { ${$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x1529}}}}}->value = $x5ed(',', ${$this->xce->xe62->x4ff6}->value); } ${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1512}}}->{$this->xce->xe4b->x2053}(${$this->xce->xe4b->{$this->xce->xe4b->x1522}}->code, [${$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1526}}}}->condition => ${$this->xce->xe4b->{$this->xce->xe4b->x1522}}->value]); } } } ${$this->xce->xe4b->{$this->xce->xe4b->x1530}} = []; ${$this->xce->xe62->{$this->xce->xe62->{$this->x7f->xe62->x5012}}} = 0; foreach (${$this->xce->xe4b->x150b} as ${$this->xce->xe62->x5015}) {  switch (${$this->x7f->xe62->{$this->x26->xe62->{$this->x7f->xe62->x501c}}}->{$this->x7f->xe4b->x21fd}()) { case 'configurable': ${$this->x7f->xe62->{$this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->x4fe7}}}}[${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->x1543}}}->{$this->xce->xe4b->x2206}()] = ${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1548}}}}; break; case 'grouped': ${$this->x7f->xe4b->{$this->xce->xe4b->x14ff}}[${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1549}}}}}->{$this->xce->xe4b->x2206}()] = ${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->x327f}}}; break; case 'bundle': ${$this->x26->xe53->{$this->xce->xe53->x3239}}[${$this->x26->xe53->{$this->xce->xe53->x327c}}->{$this->xce->xe4b->x2206}()] = ${$this->x7f->xe62->{$this->x26->xe62->{$this->x7f->xe62->x501c}}}; break; }  if (!${$this->x26->xe53->{$this->xce->xe53->{$this->xce->xe53->{$this->x7f->xe53->x3282}}}}->{$this->x26->xe4b->x222c}()) { ${$this->xce->xe4b->{$this->xce->xe4b->x1530}}[${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1548}}}}->{$this->xce->xe4b->x20bd}()][${$this->xce->xe62->{$this->xce->xe62->{$this->x7f->xe62->x5012}}}] = ${$this->x26->xe53->{$this->xce->xe53->x327c}}->{$this->xce->xe4b->x2206}(); $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xf62}}}}[${$this->x7f->xe62->{$this->xce->xe62->x5018}}->{$this->xce->xe4b->x20bd}()][${$this->xce->xe62->{$this->x7f->xe62->x500d}}] = ${$this->x7f->xe62->{$this->xce->xe62->x5018}}; ${$this->x26->xe53->{$this->xce->xe53->x3273}}++; } else {    if (isset(${$this->x26->xe53->x324d}[${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1548}}}}->{$this->x26->xe4b->x222c}()]) && !empty(${$this->x7f->xe4b->{$this->x26->xe4b->x1505}}[${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->x327f}}}->{$this->x26->xe4b->x222c}()]) && isset($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xf5e}}}[${$this->x7f->xe53->x3277}->{$this->xce->xe4b->x20bd}()][(${$this->x7f->xe62->x5009} - 1)])) { $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xf5e}}}[${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1548}}}}->{$this->xce->xe4b->x20bd}()][(${$this->xce->xe62->{$this->x7f->xe62->x500d}} - 1)]->{$this->xce->xe4b->x2279}(${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1549}}}}}->{$this->x26->xe4b->x222c}()); $this->{$this->x26->xe4b->{$this->xce->xe4b->xf5a}}[${$this->xce->xe62->x5015}->{$this->xce->xe4b->x20bd}()][(${$this->x26->xe53->{$this->x7f->xe53->{$this->x7f->xe53->{$this->xce->xe53->x3276}}}} - 1)]->{$this->x26->xe4b->x2296}(${$this->x7f->xe53->x3277}->{$this->xce->xe4b->x2206}()); $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xf62}}}}[${$this->x7f->xe62->{$this->x26->xe62->{$this->x7f->xe62->x501c}}}->{$this->xce->xe4b->x20bd}()][(${$this->x26->xe4b->{$this->x26->xe4b->x1538}} - 1)]->{$this->xce->xe4b->x22ae}(${$this->x26->xe53->{$this->xce->xe53->x327c}}->{$this->xce->xe4b->x1e76}()); } elseif ((isset(${$this->x26->xe53->{$this->xce->xe53->x3239}}[${$this->x7f->xe4b->{$this->xce->xe4b->x1541}}->{$this->x26->xe4b->x222c}()]) && !empty(${$this->x26->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->x14f8}}}[${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->x327f}}}->{$this->x26->xe4b->x222c}()]))  || (isset(${$this->xce->xe53->{$this->x7f->xe53->x3245}}[${$this->x7f->xe4b->{$this->xce->xe4b->x1541}}->{$this->x26->xe4b->x222c}()]) && !empty(${$this->x7f->xe4b->{$this->xce->xe4b->x14ff}}[${$this->x7f->xe4b->{$this->xce->xe4b->x1541}}->{$this->x26->xe4b->x222c}()])) ) { ${$this->x7f->xe4b->x152b}[${$this->x7f->xe62->{$this->xce->xe62->x5018}}->{$this->xce->xe4b->x20bd}()][${$this->x7f->xe4b->x1534}] = ${$this->x7f->xe53->x3277}->{$this->xce->xe4b->x2206}(); $this->{$this->x26->xe4b->{$this->xce->xe4b->xf5a}}[${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1549}}}}}->{$this->xce->xe4b->x20bd}()][${$this->x26->xe53->{$this->x7f->xe53->{$this->x7f->xe53->{$this->xce->xe53->x3276}}}}] = ${$this->x7f->xe62->{$this->xce->xe62->x5018}}; ${$this->xce->xe62->{$this->x7f->xe62->x500d}}++; } } } unset(${$this->x7f->xe62->{$this->xce->xe62->x4fed}}); return ${$this->x26->xe62->x5002}; }  public function extractSubloops($x6aa) {$x6b6 = $this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x1ac0}}}; ${$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x155c}}} = []; foreach (${$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->x1555}}}}} as ${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->x7f->xe53->x3298}}}}) { ${$this->x7f->xe53->x32a1} = '/(?<fullpattern><\?php\s+foreach\s*?\(\s*?\$' . ${$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x156e}}}['syntax'] . 's\s+as\s+\$' . ${$this->x7f->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1573}}}}['syntax'] . '\s*?\)\s*?:\s+\?>(?<pattern>.+)<\?php\s+endforeach\s*?;\s*?\?>)/Us'; ${$this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->{$this->x7f->xe62->x504d}}}} = []; $x6b6(${$this->xce->xe4b->x157a}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['body'], ${$this->xce->xe4b->x1584}); if (isset(${$this->x26->xe62->x5049}[1][0])) { ${$this->xce->xe62->{$this->xce->xe62->{$this->x7f->xe62->{$this->xce->xe62->x502f}}}}[${$this->x7f->xe4b->{$this->xce->xe4b->x1569}}['syntax']]['fullpattern'] = ${$this->xce->xe62->{$this->xce->xe62->{$this->x7f->xe62->x504c}}}['fullpattern'][0]; ${$this->x26->xe53->{$this->x26->xe53->x3288}}[${$this->x26->xe53->{$this->x7f->xe53->x3291}}['syntax']]['pattern'] = ${$this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->x504f}}}}}['pattern'][0]; } } return ${$this->x7f->xe62->x5028}; }  public function analyseFilter() {$x6df = $this->xce->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->x7f->xe53->x386a}}};$x6e8 = $this->x26->xe62->{$this->x7f->xe62->x5576}; ${$this->x7f->xe53->{$this->xce->xe53->x32b1}} = []; foreach ($x6df($this->{$this->xce->xe53->x2cb9}['attributes']) as ${$this->x7f->xe53->{$this->x26->xe53->{$this->x26->xe53->x32ba}}}) { if (${$this->x26->xe62->{$this->xce->xe62->x505e}}->checked) { $x6e8('/(order_payment|order_item|order|invoice|shipment|creditmemo).(.*)/', ${$this->x26->xe4b->x1598}->code, ${$this->xce->xe62->{$this->xce->xe62->{$this->x7f->xe62->{$this->x7f->xe62->{$this->x26->xe62->x5075}}}}}); ${$this->x26->xe62->x505b}->code = ${$this->xce->xe62->{$this->xce->xe62->{$this->x26->xe62->x506f}}}[2]; ${$this->xce->xe62->{$this->x26->xe62->{$this->x7f->xe62->x5058}}}[${$this->x26->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x15ad}}}}}[1]][] = ${$this->x7f->xe53->x32b7}; ${$this->xce->xe4b->{$this->x7f->xe4b->x159b}}->value = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->xce->xe4b->x232b}($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->xeab}}}}, ${$this->x7f->xe53->{$this->x26->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->x26->xe53->x32c0}}}}}->value); } } return ${$this->xce->xe62->{$this->x26->xe62->{$this->x7f->xe62->x5058}}}; }  public function extractAll($x706) {$x73f = $this->x26->xe53->x3878;  $this->{$this->x7f->xe53->{$this->xce->xe53->x3675}}(); $this->{$this->x26->xe4b->{$this->x26->xe4b->x10fe}}->log('Orders extracted', !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}});  if (isset($this->{$this->xce->xe53->x2d33}['billing'])) { ${$this->x7f->xe62->x5081} = $this->{$this->x7f->xe53->{$this->x26->xe53->x3687}}(); $this->{$this->xce->xe53->x2e3f}->log('Billing addresses extracted', !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}}); }  if (isset($this->{$this->x7f->xe53->{$this->xce->xe53->x2d34}}['shipping'])) { ${$this->x26->xe4b->{$this->xce->xe4b->x15d2}} = $this->{$this->x7f->xe53->{$this->x7f->xe53->x3681}}(); $this->{$this->xce->xe53->x2e3f}->log('Shipping addresses extracted', !$this->{$this->x26->xe53->x2e4a}); }  if (isset($this->{$this->x26->xe4b->{$this->xce->xe4b->xf70}}['payment'])) { ${$this->x7f->xe62->{$this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->{$this->x7f->xe62->x5096}}}}} = $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x192c}}}}}(); $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Payments extracted', !$this->{$this->x26->xe53->x2e4a}); }  if (isset($this->{$this->xce->xe53->x2d33}['invoice'])) { ${$this->x7f->xe53->{$this->xce->xe53->{$this->x7f->xe53->x32fe}}} = $this->{$this->x26->xe53->x3697}(); $this->{$this->xce->xe53->x2e3f}->log('Invoices extracted', !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}}); }  if (isset($this->{$this->x7f->xe53->{$this->xce->xe53->x2d34}}['shipment'])) { ${$this->xce->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->x330a}}}} = $this->{$this->x7f->xe62->x53bf}(); $this->{$this->xce->xe53->x2e3f}->log('Shipments extracted', !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}}); }  if (isset($this->{$this->x26->xe4b->{$this->xce->xe4b->xf70}}['creditmemo'])) { ${$this->x7f->xe53->{$this->x26->xe53->x3313}} = $this->{$this->xce->xe62->{$this->xce->xe62->{$this->x26->xe62->{$this->x7f->xe62->x53ce}}}}(); $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Creditmemos extracted', !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}}); }  $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['product_type'] = "\x73\x69mp\154e,c\x6fn\x66\x69\x67u\x72a\142\154\145\x2c\x67\x72ou\160\x65\x64\137par\x65nt\x2c\142\165\x6e\144le\137\x70\x61\162\x65\x6e\x74\54\142\x75n\144\x6ce\x5f\143\x68\151\x6cd\162\145n"; if (isset($this->{$this->x26->xe4b->{$this->xce->xe4b->xf70}}['product']) && $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['product_type'] != null) { ${$this->x7f->xe53->x3320} = $this->{$this->x7f->xe62->{$this->x7f->xe62->x53d6}}(); $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Products extracted', !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}}); } }  public function generate($x786 = null, $x8af = false) {$xe1e = $this->x7f->xe53->{$this->x7f->xe53->{$this->x26->xe53->x388d}};$x88c = $this->xce->xe53->x3894;$x876 = $this->xce->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->x1b12}}};$x7bf = $this->xce->xe53->{$this->x26->xe53->{$this->x7f->xe53->x38b6}};$x9f3 = $this->xce->xe62->x55bc;$x929 = $this->x26->xe62->{$this->x7f->xe62->{$this->x26->xe62->{$this->x26->xe62->x55d1}}};$xe09 = $this->xce->xe62->x55d8;$xa4f = $this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->{$this->x26->xe62->x55f2}}};$xdc4 = $this->x26->xe4b->x1b4e;$x9af = $this->x7f->xe4b->{$this->x26->xe4b->x1b58};$xb5a = $this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x1b75}}}};$x9ca = $this->x7f->xe53->x391c;$xe17 = $this->xce->xe4b->x1b87;$xa6a = $this->x26->xe62->x5648;$xa8e = $this->x26->xe53->{$this->x26->xe53->{$this->x26->xe53->{$this->xce->xe53->x3939}}};$xaae = $this->x26->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x5665}};$xab2 = $this->xce->xe62->{$this->xce->xe62->{$this->x26->xe62->x5677}};$xad6 = $this->x7f->xe62->{$this->x7f->xe62->{$this->x26->xe62->{$this->x26->xe62->{$this->x26->xe62->x5689}}}};$xb02 = $this->xce->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x7f->xe62->x569a}}};$xcc8 = $this->x7f->xe53->x3976;$xdd2 = $this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x1c06}};$xc63 = $this->x7f->xe53->{$this->xce->xe53->{$this->x7f->xe53->x3994}};$xd31 = $this->x7f->xe62->x56cc;$xd66 = $this->x26->xe62->{$this->x7f->xe62->x56d7};$xdf2 = $this->x7f->xe53->{$this->x7f->xe53->x39be}; try { $this->{$this->x26->xe53->x2e4a} = ${$this->xce->xe53->{$this->x26->xe53->x3336}}; $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->{$this->xce->xe4b->x238d}($this->{$this->x7f->xe62->x5415}(), $this->{$this->x26->xe4b->x23ac}(), $this->{$this->xce->xe4b->x1e76}()); $this->{$this->x26->xe4b->{$this->x26->xe4b->x10fe}}->log("\43\x23# \116\145\167\x20\157r\x64e\x72\163\40\145\x78\160\157rt s\164\141\x72\164\x65d", !$this->{$this->xce->xe4b->{$this->x7f->xe4b->x110a}}); $this->{$this->xce->xe4b->{$this->xce->xe4b->x10d3}}->{$this->x7f->xe4b->x23ce}("\157\x72d\x65r\163exp\157\x72\164\164\157\x6f\x6c_\145\170p\x6f\162\164_\x62e\x66\x6fr\145", ['profile' => $this]); $this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->xce->xe4b->x23db}($this); ${$this->xce->xe4b->x1627} = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xfda}}}->{$this->x7f->xe4b->x23f0}(); $this->{$this->x26->xe4b->{$this->xce->xe4b->xe8a}} = 1; ${$this->xce->xe53->x334d} = 1; ${$this->x26->xe53->x3355} = []; ${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->x7f->xe53->x3365}}}} = ''; ${$this->xce->xe4b->x164e} = ''; ${$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x1660}}} = null; ${$this->x7f->xe53->x3380} = $this; ${$this->x7f->xe53->x338c} = $x88c($x876()); $this->${$this->xce->xe53->{$this->x7f->xe53->x338e}} = ''; ${$this->x7f->xe62->{$this->xce->xe62->x5117}} = 'error'; ${$this->xce->xe62->{$this->x26->xe62->{$this->x7f->xe62->x510e}}}->coreHelper->{$this->x26->xe4b->x1c50}(${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x166d}}}}, ${$this->x7f->xe62->{$this->x26->xe62->x5110}}); if (${$this->x26->xe4b->x1665}->${$this->xce->xe4b->x1674} != $x88c(${$this->x7f->xe53->x338c})) { throw new \Exception(__(${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->xce->xe53->x3389}}}}}->${$this->x26->xe62->x5112})); }  $this->{$this->x26->xe62->x5347}(${$this->x7f->xe4b->{$this->x7f->xe4b->x1617}}); $this->{$this->x26->xe4b->{$this->x26->xe4b->x10fe}}->log('Parameters loaded', !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}}); $this->{$this->x26->xe4b->{$this->x7f->xe4b->xea6}} = ${$this->xce->xe62->{$this->xce->xe62->x50c5}}; $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xeb8}}}} = $this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xf9e}}}->{$this->xce->xe4b->x2414}(); ${$this->xce->xe53->{$this->x7f->xe53->x338e}} = $x88c($x876()); $this->${$this->xce->xe4b->x1674} = ''; ${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->x3387}}}}->coreHelper->{$this->x26->xe4b->x1c50}(${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->xce->xe53->x3389}}}}}, ${$this->xce->xe53->{$this->x7f->xe53->x338e}}); if (${$this->xce->xe62->{$this->x7f->xe62->x510c}}->${$this->x7f->xe62->{$this->x26->xe62->x5110}} != $x88c(${$this->x7f->xe62->{$this->x26->xe62->x5110}})) { throw new \Exception(__(${$this->x7f->xe53->x3380}->${$this->x7f->xe62->{$this->x26->xe62->{$this->x7f->xe62->x511b}}})); } $this->{$this->x26->xe4b->{$this->x26->xe4b->x10fe}}->log("" . $x7bf($this->{$this->x7f->xe53->x2dff}->{$this->x7f->xe4b->x2425}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['date_format'], $this->{$this->xce->xe53->x2cb9}['name'], $this->{$this->xce->xe53->x2cb9}['type'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xeb4}}}, false)), !$this->{$this->xce->xe4b->{$this->x7f->xe4b->x110a}});  ${$this->x7f->xe62->x511c} = (string)$this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x1003}}}->{$this->x26->xe4b->x2439}('ordersexporttool/system/memory_limit') . 'M'; if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->x1001}}->{$this->x26->xe4b->x2439}("\x6f\x72de\x72\x73\145\170\x70\x6frt\x74\157\157l\x2f\163\171s\164e\155/\155\145\x6d\157\x72\171_\154\151\155\x69t") > 0) { $x9f3('memory_limit', ${$this->xce->xe53->{$this->xce->xe53->x33a8}}); $this->{$this->xce->xe53->x2e3f}->log('Memory limit set to ' . ${$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x1689}}}, !$this->{$this->x26->xe53->x2e4a}); } ${$this->x26->xe53->{$this->x26->xe53->{$this->x26->xe53->{$this->x26->xe53->x33b1}}}} = null;  if (!$this->{$this->x26->xe4b->{$this->x7f->xe4b->xea6}}) { if (!$this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['storage_enabled']) { $this->{$this->xce->xe53->x2cb9}['path'] = self::TMP_DIR; } if (!$this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['repeat_for_each']) { ${$this->x26->xe62->{$this->x7f->xe62->x512c}} = $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1085}}}->{$this->x7f->xe4b->x2425}($this->{$this->xce->xe53->x2cb9}['date_format'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['name'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['type'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xeb8}}}}); ${$this->x26->xe53->{$this->x26->xe53->{$this->x26->xe53->{$this->x26->xe53->x33b1}}}} = $this->{$this->x7f->xe53->x2dff}->{$this->xce->xe4b->x245b}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['path'], ${$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x169f}}}}}); $this->{$this->xce->xe53->x2e3f}->log('' . $this->{$this->xce->xe53->x2cb9}['path'] . ' ' . ${$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x169f}}}}} . ' created.', !$this->{$this->xce->xe4b->{$this->x7f->xe4b->x110a}}); } } if ($this->{$this->xce->xe53->x2cb9}['encoding'] == 'UTF-8' && !$this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->xeab}}}} && !$this->{$this->xce->xe53->x2cb9}['repeat_for_each']) { ${$this->x26->xe4b->{$this->x7f->xe4b->x168d}}->{$this->x26->xe4b->x2470}($x929('CCC', 0xef, 0xbb, 0xbf)); }  ${$this->x26->xe53->{$this->xce->xe53->{$this->xce->xe53->x33c6}}} = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->xce->xe4b->x232b}($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['extra_header']); $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Php scripts parsed for Extra Header', !$this->{$this->xce->xe4b->{$this->x7f->xe4b->x110a}});  ${$this->x7f->xe53->{$this->x26->xe53->x33ca}} = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->xce->xe4b->x232b}($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}}, $this->{$this->xce->xe53->x2cb9}['header']); $this->{$this->x26->xe4b->{$this->x26->xe4b->x10fe}}->log('Php scripts parsed for Header', !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}}); ${$this->x7f->xe53->x338c} = $x88c($x876()); $this->${$this->x7f->xe4b->{$this->x7f->xe4b->x1675}} = ''; ${$this->x26->xe62->x510b}->coreHelper->{$this->x26->xe4b->x1c50}(${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x166f}}}}}, ${$this->xce->xe53->{$this->x7f->xe53->x338e}}); if (${$this->xce->xe62->{$this->x7f->xe62->x510c}}->${$this->xce->xe4b->x1674} != $x88c(${$this->x7f->xe4b->{$this->x7f->xe4b->x1675}})) { throw new \Exception(__(${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->xce->xe53->x3389}}}}}->${$this->x26->xe53->x3393})); }  if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xfda}}}->{$this->x26->xe4b->x24a7}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}) || (!$this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->x26->xe4b->x24a7}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}) && !$this->{$this->x26->xe4b->{$this->x7f->xe4b->xea6}})) { ${$this->x7f->xe4b->x16a2} = $this->{$this->x26->xe4b->{$this->x26->xe4b->x108e}}->{$this->x26->xe4b->x24cc}(${$this->x26->xe62->{$this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->x5138}}}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['encoding']); $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Extra Header encoded', !$this->{$this->xce->xe4b->{$this->x7f->xe4b->x110a}}); ${$this->x7f->xe53->{$this->x26->xe53->x33ca}} = $this->{$this->x26->xe4b->{$this->x26->xe4b->x108e}}->{$this->x26->xe4b->x24cc}(${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x16b3}}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['encoding']); $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Header encoded', !$this->{$this->xce->xe4b->{$this->x7f->xe4b->x110a}}); }  if ($this->{$this->x26->xe4b->{$this->x7f->xe4b->xea6}}) {  if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xfda}}}->{$this->x26->xe4b->x24a7}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}})) { ${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->x7f->xe53->x3365}}}} .= $this->{$this->x26->xe4b->{$this->x26->xe4b->x108e}}->{$this->xce->xe4b->x24ed}(${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x16b8}}}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['enclose_data'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['type']); }  else {  if (!$this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->x26->xe4b->x24fd}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}) && ${$this->x26->xe53->{$this->xce->xe53->{$this->xce->xe53->x33c6}}} != '') { ${$this->x7f->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x164c}}} .= ${$this->x7f->xe4b->{$this->x26->xe4b->x16a6}} . '<br>'; }  elseif (${$this->x26->xe62->{$this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->x5138}}}} != '') { ${$this->xce->xe62->x50e8} .= ${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->x16a9}}} . "\x0d\x0a"; }  if (!$this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->x26->xe4b->x24fd}($this->{$this->xce->xe53->x2cb9})) { ${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->x3364}}} .= '<table class="data-grid" cellspacing=0 cellpadding=0>'; if ($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['include_header']) { ${$this->x7f->xe4b->x1644} .= $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x1093}}}->{$this->x26->xe4b->x2522}($this, ${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x16b3}}}, $this->{$this->xce->xe53->x2cb9}['incremental_column'], $this->{$this->xce->xe53->x2cb9}['incremental_column_name'], true); } } } $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Header /Extra Header ready for rendering', !$this->{$this->x26->xe53->x2e4a}); }  elseif (!$this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['repeat_for_each']) {  if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xfda}}}->{$this->x26->xe4b->x24a7}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}})) { ${$this->xce->xe4b->x164e} .= $this->{$this->x26->xe53->x2e04}->{$this->xce->xe4b->x24ed}(${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x16b3}}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['enclose_data'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['type']); }  else {  if (${$this->x26->xe53->x33bf} != '') { ${$this->x26->xe62->{$this->x26->xe62->{$this->x26->xe62->x50f7}}} .= ${$this->x7f->xe4b->{$this->x26->xe4b->x16a6}} . "\x0d\x0a"; }  if ($this->{$this->xce->xe53->x2cb9}['include_header']) { ${$this->x26->xe62->{$this->x26->xe62->{$this->x26->xe62->x50f7}}} .= $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x1093}}}->{$this->x7f->xe4b->x2547}($this, ${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x16b3}}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['separator'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['protector'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['escaper'], $this->{$this->xce->xe53->x2cb9}['incremental_column'], $this->{$this->xce->xe53->x2cb9}['incremental_column_name'], false); } } ${$this->xce->xe53->x33aa}->{$this->x26->xe4b->x2470}(${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x26->xe62->x50fa}}}}); $this->{$this->xce->xe53->x2e3f}->log('Header /Extra Header added', !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}}); ${$this->xce->xe4b->x164e} = ''; } ${$this->x7f->xe62->{$this->x26->xe62->x5110}} = $x88c($x876()); $this->${$this->x26->xe62->x510f} = ""; ${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->xce->xe53->x3389}}}}}->coreHelper->{$this->x26->xe4b->x1c50}(${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->xce->xe53->x3389}}}}}, ${$this->x26->xe62->x510f}); if (${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->x3384}}}->${$this->x26->xe62->x510f} != $x88c(${$this->x7f->xe53->x338c})) { throw new \Exception(__(${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x1669}}}->${$this->x26->xe62->x5112})); }  $this->{$this->xce->xe4b->{$this->x26->xe4b->xf90}} = $this->{$this->xce->xe53->x36c1}(); $this->{$this->x26->xe4b->{$this->x26->xe4b->x10fe}}->log('Filters analyzed', !$this->{$this->x26->xe53->x2e4a});  ${$this->x7f->xe62->{$this->x26->xe62->{$this->x26->xe62->x514a}}} = [];  if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->x7f->xe4b->x2584}($this->{$this->xce->xe53->x2cb9})) { ${$this->xce->xe53->{$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->xce->xe53->x33d9}}}}} = $this->{$this->xce->xe62->{$this->xce->xe62->{$this->xce->xe62->x53e5}}}(${$this->x7f->xe53->{$this->x7f->xe53->x3341}}); $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Subloops analyzed', !$this->{$this->x26->xe53->x2e4a}); }  $this->{$this->x26->xe4b->x18ea}(${$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->x1630}}}); $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Attributes analyzed', !$this->{$this->xce->xe4b->{$this->x7f->xe4b->x110a}});   $this->{$this->x7f->xe62->x53f5}(${$this->x7f->xe62->x50c2}); ${$this->x7f->xe53->{$this->xce->xe53->x33e0}} = $xe09($this->{$this->x7f->xe4b->x18f9}());  ${$this->x7f->xe62->x515c} = $this->{$this->x7f->xe53->{$this->x7f->xe53->{$this->x26->xe53->x366e}}}(); $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Total orders to export: ' . ${$this->x7f->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->x26->xe53->{$this->x7f->xe53->x33eb}}}}}, !$this->{$this->xce->xe4b->{$this->x7f->xe4b->x110a}}); ${$this->x7f->xe53->{$this->x26->xe53->x3401}} = 1;  foreach (${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x16d6}}} as $order) { $this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->x26->xe4b->x25c4}(false); ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x7f->xe62->x517a}}}} = null; ${$this->xce->xe53->{$this->x7f->xe53->x341d}} = ${$this->x7f->xe62->{$this->xce->xe62->x50d4}} * 100 / ${$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x16cb}}}}; $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Exporting order #' . $order->{$this->x26->xe4b->x25d5}(), !$this->{$this->x26->xe53->x2e4a}, ProgressHelper::PROCESSING, ${$this->x26->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->x170a}}});  $data = [ 'product' => $this->{$this->x7f->xe62->{$this->xce->xe62->{$this->x26->xe62->x5358}}}('product', $order), 'payment' => $this->{$this->x7f->xe62->{$this->xce->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x535c}}}}('payment', $order), 'invoice' => $this->{$this->xce->xe4b->{$this->x7f->xe4b->x18df}}('invoice', $order), 'shipment' => $this->{$this->x7f->xe53->{$this->x7f->xe53->x3644}}('shipment', $order), 'creditmemo' => $this->{$this->x7f->xe62->{$this->x26->xe62->x5355}}('creditmemo', $order), 'billing' => $this->{$this->x7f->xe62->x5354}('billing', $order), 'shipping' => $this->{$this->x26->xe53->x3640}('shipping', $order), 'order' => $this->{$this->x7f->xe62->{$this->x26->xe62->x5355}}('order', $order), ];  if ($this->{$this->xce->xe53->x2cb9}['flag'] && $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['single_export'] && $xa4f($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['id'], $xdc4(',', $order->{$this->x7f->xe4b->x2656}())) && !$this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->xeab}}}}) { continue; } ${$this->x7f->xe4b->{$this->x7f->xe4b->x171e}} = null;  if (!$this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}} && $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['repeat_for_each']) { switch ($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['repeat_for_each_increment']) { case 1: ${$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x16fd}}} = '-' . $order->{$this->x26->xe4b->x25d5}(); break; case 2: ${$this->xce->xe53->{$this->xce->xe53->x3416}} = '-' . $order->{$this->xce->xe4b->x1d18}(); break; case 3: ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x7f->xe62->x517a}}}} = '-' . ${$this->x7f->xe62->{$this->xce->xe62->{$this->x7f->xe62->x50d8}}}; break; } ${$this->x7f->xe53->{$this->xce->xe53->x33b9}} = $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1085}}}->{$this->x7f->xe4b->x2425}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['date_format'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['name'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['type'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xeb4}}}, '.temp', ${$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x16fd}}}); ${$this->x26->xe62->x518f} = $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1085}}}->{$this->xce->xe4b->x245b}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['path'], ${$this->x7f->xe62->x5128}); if ($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['encoding'] == 'UTF-8') { ${$this->xce->xe62->{$this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x5198}}}}->{$this->x26->xe4b->x2470}($x929('CCC', 0xef, 0xbb, 0xbf)); } ${$this->x26->xe4b->x16ad} = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xfda}}}->{$this->xce->xe4b->x232b}($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['header']); if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->x7f->xe4b->x2584}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}})) { ${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x1723}}}}->{$this->x26->xe4b->x2470}($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x1093}}}->{$this->xce->xe4b->x24ed}(${$this->xce->xe62->x513c}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['enclose_data'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['type'])); } else { if ($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['include_header'] && !$this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->x26->xe4b->x24fd}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}})) { ${$this->x7f->xe53->x3437}->{$this->x26->xe4b->x2470}($this->{$this->x26->xe53->x2e04}->{$this->x7f->xe4b->x2547}($this, ${$this->x7f->xe53->x33c7}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['separator'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['protector'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['escaper'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['incremental_column'], $this->{$this->xce->xe53->x2cb9}['incremental_column_name'], false)); } } $this->{$this->xce->xe53->x2e3f}->log("F\x69\154\x65\x20\x27" . ${$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x169f}}}}} . "\x27\x20crea\x74\x65\x64\x2e", !$this->{$this->xce->xe4b->{$this->x7f->xe4b->x110a}}, ProgressHelper::PROCESSING, ${$this->xce->xe62->x517b}); }  ${$this->x26->xe53->{$this->x7f->xe53->x3449}} = $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['body']; ${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x173b}}}}} = []; ${$this->x7f->xe62->{$this->xce->xe62->x519d}} = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->x7f->xe4b->x270e}(${$this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->{$this->x26->xe62->{$this->x26->xe62->x51a6}}}}}); foreach ($this->{$this->x7f->xe4b->{$this->xce->xe4b->xee4}} as ${$this->x26->xe53->{$this->x26->xe53->{$this->x26->xe53->{$this->x7f->xe53->x345a}}}} => ${$this->x26->xe4b->x174b}) { $values = []; ${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x1767}}}}} = []; ${$this->x26->xe53->{$this->x26->xe53->{$this->x7f->xe53->{$this->x7f->xe53->{$this->xce->xe53->x3490}}}}} = null; ${$this->xce->xe62->{$this->xce->xe62->x51f2}} = ${$this->x7f->xe4b->{$this->x26->xe4b->x174f}}['reference']; ${$this->xce->xe53->{$this->xce->xe53->{$this->xce->xe53->{$this->xce->xe53->{$this->x7f->xe53->x34b2}}}}} = ${$this->x26->xe4b->x174b}['variable']; ${$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x179f}}}}} = ${$this->x7f->xe4b->{$this->x26->xe4b->x174f}}['expression']; ${$this->x7f->xe4b->{$this->x7f->xe4b->x17a4}} = ${$this->x26->xe62->{$this->x7f->xe62->{$this->xce->xe62->x51cd}}}['pattern']; ${$this->x26->xe53->x34bf} = (array)$this->{$this->x7f->xe53->{$this->x7f->xe53->{$this->x26->xe53->x3649}}}(${$this->xce->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x51f4}}}, $order); ${$this->x7f->xe4b->{$this->x7f->xe4b->x17b4}} = 0; if ($xe09(${$this->x26->xe53->x34bf}) < 1) { $values[] = null; } else { foreach (${$this->x26->xe62->{$this->x26->xe62->x5214}} as $item) {  if ($xa4f(${$this->x7f->xe53->{$this->x26->xe53->{$this->xce->xe53->x3499}}}, $this->{$this->x26->xe53->x2d1f}) && isset(${$this->x7f->xe62->{$this->x26->xe62->{$this->x7f->xe62->{$this->x26->xe62->x514c}}}}[${$this->x7f->xe53->{$this->x26->xe53->{$this->xce->xe53->x3499}}}])) { ${$this->x26->xe62->{$this->xce->xe62->x51ea}} .= ${$this->xce->xe53->{$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->xce->xe53->x33d9}}}}}[${$this->xce->xe62->{$this->xce->xe62->x51f2}}]['pattern']; } $values[${$this->x7f->xe4b->{$this->x7f->xe4b->x17b4}}] = null; if (!isset($this->{$this->x26->xe53->{$this->xce->xe53->x2d47}}[${$this->x7f->xe53->{$this->x26->xe53->{$this->xce->xe53->x3499}}} . '.' . ${$this->xce->xe53->x34a6}])) { if ($x9af(${$this->x7f->xe62->{$this->xce->xe62->{$this->x26->xe62->x5206}}}, '/* */') === 0) { $values[${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x17b8}}}}] = $item->{$this->x26->xe4b->x1ce2}($xb5a("\x2f\x2a */", "", ${$this->x7f->xe62->{$this->xce->xe62->{$this->x26->xe62->x5206}}})); } else { ${$this->xce->xe53->{$this->x26->xe53->{$this->xce->xe53->{$this->x26->xe53->{$this->x7f->xe53->x34e4}}}}} = $x9ca('display_errors'); $x9f3('display_errors', 0); try { if (($values[${$this->xce->xe62->x521d}] = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xfda}}}->{$this->x7f->xe4b->x1dcc}(${$this->xce->xe62->x5207}, 'return ' . ${$this->x7f->xe4b->x1791} . ';', $order, $data, $item)) === false) { $x9f3('display_errors', ${$this->xce->xe53->x34db}); throw new \Exception("\x53\171\x6e\x74ax \145r\x72\x6f\x72 \151\x6e\x20" . ${$this->x7f->xe4b->x1791}); } $x9f3('display_errors', ${$this->xce->xe53->x34db}); } catch (\Exception $e) { $x9f3('display_errors', ${$this->xce->xe62->{$this->x26->xe62->x5227}}); throw $e; } } } else { $values[${$this->x7f->xe4b->{$this->x7f->xe4b->x17b4}}] = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->xce->xe4b->x232b}($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}}, $this->{$this->x26->xe53->{$this->xce->xe53->x2d47}}[${$this->x7f->xe4b->x1776} . '.' . ${$this->xce->xe53->x34a6}], $order, $data, $item); } if (!$xa4f(${$this->x7f->xe53->{$this->x26->xe53->{$this->x26->xe53->{$this->x7f->xe53->x349d}}}}, ${$this->x26->xe62->{$this->xce->xe62->{$this->x26->xe62->{$this->x7f->xe62->x51b5}}}})) { ${$this->x26->xe62->{$this->x26->xe62->x51e2}}[] = ${$this->x26->xe53->x3444}; } ${$this->x7f->xe62->{$this->x7f->xe62->x521e}}++; } } if (!$xa4f(${$this->x7f->xe4b->{$this->x7f->xe4b->x177a}}, ${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x1736}}})) { ${$this->x26->xe53->{$this->x7f->xe53->x344f}}[] = ${$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x177c}}}; }  if (!$this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xfda}}}->{$this->x7f->xe4b->x274a}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}) && $xe09(${$this->x26->xe62->{$this->xce->xe62->{$this->xce->xe62->x51e5}}})) { ${$this->x26->xe53->x3444} = $xe17(',', ${$this->x26->xe62->{$this->xce->xe62->{$this->xce->xe62->x51e5}}}); }  if ($xa4f(${$this->x7f->xe62->x51f1}, $this->{$this->x26->xe53->x2d1f}) && isset(${$this->xce->xe53->{$this->x7f->xe53->x33d3}}[${$this->x7f->xe4b->x1776}])) { ${$this->x26->xe53->{$this->x7f->xe53->{$this->x7f->xe53->x344a}}} = $xb5a(${$this->x7f->xe62->{$this->x26->xe62->x5148}}[${$this->x7f->xe53->{$this->x7f->xe53->x3497}}]['fullpattern'], ${$this->x26->xe62->x51e8}, ${$this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x519e}}}); } if ($xa6a($values) && !$values) { continue 2; } foreach ($values as ${$this->xce->xe62->x523e} => ${$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->x17e1}}}}) {  if (!$this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->x7f->xe4b->x274a}($this->{$this->xce->xe53->x2cb9})) { ${$this->xce->xe62->{$this->x7f->xe62->x524e}} = $this->{$this->x26->xe53->x2e04}->{$this->x7f->xe4b->x2770}(${$this->xce->xe62->{$this->x7f->xe62->x524e}}); }  ${$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->x17e1}}}} = $xb5a(["\74", ">", '"', '\\'], ['__LOWERTHAN__', '__HIGHERTHAN__', '__QUOTES__', '__BACKSLASH__'], ${$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x17e0}}}); $values[${$this->x26->xe53->{$this->x26->xe53->{$this->x7f->xe53->{$this->xce->xe53->x34fb}}}}] = ${$this->x7f->xe53->{$this->x26->xe53->x3500}}; }    ${$this->x26->xe53->x3501} = ($xa8e(${$this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x519e}}}, ${$this->x7f->xe4b->{$this->x7f->xe4b->x17a4}}) / $xe09($values)); ${$this->xce->xe53->{$this->xce->xe53->{$this->x26->xe53->x351a}}} = $xe09($values); foreach ($values as ${$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x17e0}}}) { ${$this->x7f->xe62->x525d} = '/' . $xaae(${$this->xce->xe62->x5207}, '/') . '/'; if ($xab2(${$this->x7f->xe53->x34fe})) { ${$this->x7f->xe53->{$this->x26->xe53->x3500}} = $xe17(',', ${$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x17e0}}}); } if (${$this->xce->xe62->{$this->xce->xe62->x525a}} == 1) { ${$this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->{$this->x26->xe62->{$this->x26->xe62->x51a6}}}}} = $xad6(${$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x17ff}}}, ${$this->xce->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x17e0}}}, ${$this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x519e}}}); } else { ${$this->x26->xe62->x519c} = $xad6(${$this->x26->xe62->{$this->x26->xe62->{$this->x26->xe62->{$this->x26->xe62->x5266}}}}, ${$this->x7f->xe53->x34fe}, ${$this->x26->xe53->x3444}, ${$this->x26->xe53->x3501}); } }  if (${$this->x7f->xe53->{$this->x26->xe53->{$this->x26->xe53->{$this->x26->xe53->{$this->x7f->xe53->x34a1}}}}} == 'order') { ${$this->x7f->xe4b->{$this->xce->xe4b->x16bd}} = []; foreach (${$this->x7f->xe53->x333d} as ${$this->x26->xe53->{$this->x26->xe53->{$this->xce->xe53->x352b}}}) { ${$this->xce->xe4b->x17a2} = '/(?<fullpattern><\?php\s+foreach\s*?\(\s*?\$' . ${$this->x26->xe62->{$this->x7f->xe62->x5269}}['syntax'] . 's\s+as\s+\$' . ${$this->x26->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x526e}}}['syntax'] . '\s*?\)\s*?:\s+\?>(?<pattern>.+)<\?php\s+endforeach\s*?;\s*?\?>)/Us'; ${$this->xce->xe62->x5278} = []; $xb02(${$this->xce->xe4b->x17a2}, ${$this->x26->xe53->{$this->x7f->xe53->{$this->x7f->xe53->x344a}}}, ${$this->x7f->xe53->{$this->xce->xe53->x3530}}); if (isset(${$this->x7f->xe53->{$this->xce->xe53->x3530}}[1][0])) { ${$this->x7f->xe4b->{$this->xce->xe4b->x16bd}}[${$this->xce->xe62->x5267}['syntax']]['fullpattern'] = ${$this->xce->xe62->{$this->xce->xe62->x527d}}['fullpattern'][0]; ${$this->xce->xe53->{$this->x26->xe53->{$this->x7f->xe53->x33d7}}}[${$this->x26->xe53->{$this->x26->xe53->x3526}}['syntax']]['pattern'] = ${$this->x7f->xe53->{$this->xce->xe53->{$this->x26->xe53->x3535}}}['pattern'][0]; } }  } }  ${$this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->{$this->x26->xe62->{$this->x26->xe62->x51a6}}}}} = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->xce->xe4b->x232b}($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->xeab}}}}, ${$this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->{$this->x26->xe62->{$this->x26->xe62->x51a6}}}}}, $order, $data, $order, $this->{$this->x26->xe4b->x2784}()); if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->x26->xe4b->x278a}()) { continue; } $this->{$this->x26->xe4b->{$this->xce->xe4b->xecf}}[] = '#' . $order->{$this->x26->xe4b->x25d5}();  if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->x7f->xe4b->x2584}($this->{$this->xce->xe53->x2cb9})) { ${$this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x519e}}} = $this->{$this->x26->xe4b->{$this->x26->xe4b->x108e}}->{$this->xce->xe4b->x24ed}(${$this->x26->xe53->{$this->x7f->xe53->x3449}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['enclose_data'], $this->{$this->xce->xe53->x2cb9}['type']); } else {  if (!$this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->xeab}}}}) { if (!$this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->x26->xe4b->x24fd}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}})) { if ((!$this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['include_header'] && ${$this->x26->xe4b->{$this->x7f->xe4b->x1637}} <= 1) || (!$this->{$this->xce->xe53->x2cb9}['include_header'] && $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['repeat_for_each'])) { ${$this->x26->xe62->{$this->xce->xe62->{$this->x26->xe62->{$this->x7f->xe62->{$this->xce->xe62->x528d}}}}} = false; } else { ${$this->x26->xe62->{$this->xce->xe62->{$this->xce->xe62->x528a}}} = true; } ${$this->x26->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->x344c}}}}} = $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x1093}}}->{$this->x7f->xe4b->x2547}($this, ${$this->x26->xe53->x3444}, $this->{$this->xce->xe53->x2cb9}['separator'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['protector'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['escaper'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['incremental_column'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['incremental_column_name'], ${$this->x26->xe62->{$this->xce->xe62->{$this->xce->xe62->x528a}}}); } } else { if (!$this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->x26->xe4b->x24fd}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}})) { ${$this->x26->xe62->x519c} = $this->{$this->x26->xe4b->{$this->x26->xe4b->x108e}}->{$this->x26->xe4b->x2522}($this, ${$this->x26->xe53->{$this->x7f->xe53->{$this->x7f->xe53->x344a}}}, $this->{$this->xce->xe53->x2cb9}['incremental_column'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['incremental_column_name'], false); } } } if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->x26->xe4b->x24a7}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}) || !$this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->x26->xe4b->x24a7}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}) && !$this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}}) { ${$this->x26->xe53->{$this->x7f->xe53->{$this->x7f->xe53->x344a}}} = $this->{$this->x26->xe4b->{$this->x26->xe4b->x108e}}->{$this->x26->xe4b->x24cc}(${$this->x7f->xe62->{$this->xce->xe62->x519d}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['encoding']); }  ${$this->x26->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->x344c}}}}} = $xb5a(['__LOWERTHAN__', '__HIGHERTHAN__', '__QUOTES__', '__BACKSLASH__'], ["<", "\x3e", '"', '\\'], ${$this->x7f->xe62->{$this->xce->xe62->x519d}});  if (!empty(${$this->x7f->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x519e}}})) { ${$this->xce->xe4b->x164e} .= ${$this->x26->xe53->x3444} . '';  if ($this->{$this->x26->xe4b->{$this->x7f->xe4b->xea6}}) { ${$this->x7f->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x164c}}} .= ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->{$this->x26->xe62->x50fa}}}}; ${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x1656}}}} = ''; } else { if ((${$this->x7f->xe53->x3400} % $this->{$this->x7f->xe4b->{$this->x7f->xe4b->x1001}}->{$this->x26->xe4b->x2439}('ordersexporttool/system/buffer')) == 0) { if (!$this->{$this->xce->xe53->x2cb9}['repeat_for_each']) { ${$this->x26->xe4b->{$this->x7f->xe4b->x168d}}->{$this->x26->xe4b->x2470}(${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x1654}}}); unset(${$this->x7f->xe4b->{$this->x7f->xe4b->x164f}}); ${$this->x26->xe62->{$this->x26->xe62->{$this->x26->xe62->x50f7}}} = ''; } } }  if ($this->{$this->x26->xe4b->{$this->x7f->xe4b->xe7c}} && ${$this->x7f->xe53->x3400} >= $this->{$this->x26->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xe80}}}}) { break 1; } ${$this->x7f->xe62->x5162}++; ${$this->xce->xe53->{$this->xce->xe53->{$this->x26->xe53->{$this->x26->xe53->x3354}}}}++; ${$this->xce->xe53->{$this->xce->xe53->x3550}} = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xfda}}}->{$this->xce->xe4b->x232b}($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->xeab}}}}, $this->{$this->xce->xe53->x2cb9}['extra_footer']); $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log('Php scripts parsed for Extra Footer', !$this->{$this->xce->xe4b->{$this->x7f->xe4b->x110a}}, ProgressHelper::PROCESSING, ${$this->xce->xe62->x517b}); ${$this->x7f->xe4b->{$this->xce->xe4b->x181a}} = $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->x1093}}}->{$this->x26->xe4b->x24cc}(${$this->xce->xe53->{$this->xce->xe53->{$this->x26->xe53->{$this->x7f->xe53->x3554}}}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['encoding']); $this->{$this->x26->xe4b->{$this->x26->xe4b->x10fe}}->log('Extra Footer encoded', !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}}, ProgressHelper::PROCESSING, ${$this->xce->xe53->{$this->x26->xe53->{$this->x7f->xe53->x3421}}});  if (!$this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}} && $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['repeat_for_each']) { ${$this->x26->xe62->x518f}->{$this->x26->xe4b->x2470}(${$this->x7f->xe53->{$this->x7f->xe53->x3369}}); if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->x26->xe4b->x24a7}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}) && $xcc8($xdd2($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['footer'])) > 1) { ${$this->x26->xe53->{$this->xce->xe53->{$this->xce->xe53->x343f}}}->{$this->x26->xe4b->x2470}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['footer']); } elseif ($xcc8($xdd2(${$this->x7f->xe62->x528f})) > 1) { ${$this->x26->xe62->x518f}->{$this->x26->xe4b->x2470}(${$this->x26->xe53->x354b}); } ${$this->x26->xe4b->x171c}->{$this->x26->xe4b->x286e}(); ${$this->xce->xe4b->{$this->x7f->xe4b->x1822}} = $this->{$this->x26->xe4b->{$this->xce->xe4b->x1082}}->{$this->xce->xe4b->x287d}() . $this->{$this->xce->xe53->x2cb9}['path']; ${$this->x7f->xe53->{$this->xce->xe53->x33b9}} = $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1085}}}->{$this->x7f->xe4b->x2425}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['date_format'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['name'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['type'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xeb8}}}}, false, ${$this->x26->xe62->x5173}); ${$this->xce->xe4b->x1823} = $this->{$this->x26->xe4b->{$this->xce->xe4b->x1082}}->{$this->x7f->xe4b->x2425}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['date_format'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['name'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['type'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xeb4}}}, '.temp', ${$this->x26->xe4b->x16f5}); $this->{$this->xce->xe4b->{$this->x26->xe4b->xfb7}}->{$this->xce->xe4b->x28ad}(${$this->xce->xe4b->{$this->x7f->xe4b->x1822}} . ${$this->x7f->xe53->{$this->x7f->xe53->{$this->x26->xe53->x33bc}}}); $this->{$this->x26->xe53->x2d6a}->{$this->x26->xe4b->x28b8}(${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->x7f->xe53->x3563}}}} . ${$this->x7f->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->x26->xe53->x3573}}}}, ${$this->x26->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x529e}}} . ${$this->xce->xe4b->{$this->x7f->xe4b->x1697}}); $this->{$this->xce->xe4b->{$this->x26->xe4b->xfb7}}->{$this->xce->xe4b->x28ad}(${$this->x26->xe53->x3559} . ${$this->x26->xe62->{$this->x26->xe62->x52a6}}); $this->{$this->xce->xe53->x2e2a}->{$this->x7f->xe4b->x23ce}('ordersexporttool_export_after', ['profile' => $this, 'filepath' => ${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->x7f->xe53->x3563}}}}, 'filename' => ${$this->x7f->xe62->x5128}]); ${$this->x7f->xe4b->{$this->x7f->xe4b->x164f}} = null; if (${$this->x7f->xe62->x50d0} > 1) { ${$this->x26->xe62->{$this->x26->xe62->x50e2}}[] = ${$this->x7f->xe62->x5128}; }  if ($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['ftp_enabled'] && ${$this->x7f->xe62->{$this->xce->xe62->x50d4}} > 1) { $this->{$this->xce->xe4b->{$this->x26->xe4b->{$this->x7f->xe4b->x10e2}}}->{$this->x7f->xe4b->x28d5}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['use_sftp'], $this->{$this->xce->xe53->x2cb9}['ftp_active'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['ftp_host'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['ftp_port'], $this->{$this->xce->xe53->x2cb9}['ftp_login'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['ftp_password'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['ftp_dir'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['path'], ${$this->x26->xe62->{$this->x7f->xe62->x512c}}); $this->{$this->xce->xe4b->{$this->xce->xe4b->x10d3}}->{$this->x7f->xe4b->x23ce}("\157\x72d\x65\162\163\x65xp\157\162tt\157ol\x5fupl\x6f\x61\144\x5fa\146\164er", ['profile' => $this, 'filepath' => $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['path'], 'filename' => ${$this->x7f->xe4b->x1692}]); } }  ${$this->xce->xe4b->x165b} = $order; }  if ($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['update_status'] && !$this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->xeab}}}} && ${$this->x26->xe53->x3444} != '') { ${$this->x26->xe4b->x1832} = $xdc4('-', $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['update_status_to']); $order->{$this->x7f->xe4b->x28ee}('state', ${$this->x26->xe4b->{$this->xce->xe4b->x1835}}[0]); $order->{$this->xce->xe4b->x28f4}(${$this->x7f->xe62->x52ad}[1]); ${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->x1844}}}} = $order->{$this->x26->xe4b->x290b}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['update_status_message'], false); ${$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1849}}}}}->{$this->x7f->xe4b->x2919}(false); $order->{$this->x26->xe4b->x2927}(); $this->{$this->x26->xe4b->{$this->x26->xe4b->x10fe}}->log('[' . $order->{$this->x26->xe4b->x25d5}() . '] Status updated to ' . ${$this->x26->xe53->x3579}[1], !$this->{$this->x26->xe53->x2e4a}, ProgressHelper::PROCESSING, ${$this->x26->xe62->{$this->xce->xe62->{$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->x5187}}}}}); }  if ($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['flag'] && !$this->{$this->x26->xe4b->{$this->x7f->xe4b->xea6}} && ${$this->x7f->xe62->{$this->xce->xe62->x519d}} != '') { ${$this->x7f->xe62->{$this->x7f->xe62->{$this->x26->xe62->x52bf}}} = $xdc4(',', $order->{$this->x7f->xe4b->x2656}()); ${$this->x26->xe4b->x184c}[] = $this->{$this->xce->xe53->x2cb9}['id']; ${$this->xce->xe4b->{$this->x7f->xe4b->x184d}} = $xc63(${$this->xce->xe53->{$this->x7f->xe53->x358e}});  $order->{$this->x7f->xe4b->x2955}($xe17(',', ${$this->x7f->xe62->{$this->x7f->xe62->{$this->x26->xe62->x52bf}}})); $order->{$this->x26->xe4b->x2927}(); ${$this->x7f->xe62->x52c4} = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfae}}->{$this->x7f->xe4b->x1c88}($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->xfda}}}->{$this->x7f->xe4b->x1c88}('sales')); ${$this->x26->xe62->{$this->xce->xe62->x52ce}} = $this->{$this->xce->xe53->{$this->x26->xe53->x2d5c}}->{$this->x26->xe4b->x1c98}('sales_order_grid'); try { ${$this->x7f->xe53->{$this->x7f->xe53->x3592}}->{$this->x7f->xe4b->x2991}(${$this->x26->xe62->{$this->x26->xe62->{$this->x7f->xe62->x52d3}}}, ['exported_to' => $xe17(',', ${$this->x7f->xe62->{$this->xce->xe62->x52be}})], "\x65n\x74\x69\x74\x79\x5f\151d\40=\40\47" . $order->{$this->x26->xe4b->x23ac}() . "'"); } catch (\Exception $e) { $this->{$this->xce->xe53->{$this->x7f->xe53->x36eb}}($e->{$this->x7f->xe4b->x1e28}()); } $this->{$this->xce->xe53->x2e3f}->log('[' . $order->{$this->x26->xe4b->x25d5}() . '] Flag updated to ' . $xe17(',', ${$this->x7f->xe53->x358c}), !$this->{$this->xce->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->x110f}}}, ProgressHelper::PROCESSING, ${$this->xce->xe53->{$this->x26->xe53->{$this->xce->xe53->{$this->xce->xe53->{$this->x26->xe53->x3427}}}}}); } $this->{$this->xce->xe4b->{$this->xce->xe4b->x10d3}}->{$this->x7f->xe4b->x23ce}('ordersexporttool_export_order', ['order' => $order, 'preview' => $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->xeab}}}}]); }  unset(${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x16d9}}}}); ${$this->x7f->xe4b->x1818} = $this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->xce->xe4b->x232b}($this->{$this->x26->xe4b->{$this->x7f->xe4b->xea6}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['extra_footer']); $this->{$this->xce->xe53->x2e3f}->log('Php scripts parsed for Extra Footer', !$this->{$this->xce->xe4b->{$this->x7f->xe4b->x110a}}, ProgressHelper::PROCESSING, 100); ${$this->x26->xe53->x354b} = $this->{$this->x26->xe4b->{$this->x26->xe4b->x108e}}->{$this->x26->xe4b->x24cc}(${$this->x26->xe62->{$this->xce->xe62->{$this->x7f->xe62->x5297}}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['encoding']); $this->{$this->x26->xe4b->{$this->x26->xe4b->x10fe}}->log('Extra Footer encoded', !$this->{$this->x26->xe53->x2e4a}, ProgressHelper::PROCESSING, 100);  if (!$this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}} && !$this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['repeat_for_each']) { ${$this->xce->xe53->x33aa}->{$this->x26->xe4b->x2470}(${$this->x26->xe62->{$this->xce->xe62->x50f3}}); if ($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['type'] == 1) { if ($xcc8($xdd2($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['footer'])) > 1) { ${$this->xce->xe53->x33aa}->{$this->x26->xe4b->x2470}($this->{$this->xce->xe53->x2cb9}['footer']); } } else { if ($xcc8($xdd2(${$this->xce->xe53->{$this->xce->xe53->{$this->x26->xe53->{$this->x7f->xe53->x3554}}}})) > 1) { ${$this->xce->xe62->x5121}->{$this->x26->xe4b->x2470}(${$this->xce->xe53->{$this->xce->xe53->x3550}}); } } ${$this->x26->xe4b->{$this->x7f->xe4b->x168d}}->{$this->x26->xe4b->x286e}(); } if ($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xea8}}}) { ${$this->xce->xe62->x50e8} .= ${$this->x26->xe62->{$this->xce->xe62->x50f3}}; if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->xfd6}}->{$this->x26->xe4b->x24a7}($this->{$this->xce->xe53->x2cb9})) { ${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->x7f->xe53->x3365}}}} .= $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['footer'] . "\x0d\x0a"; } else { ${$this->x7f->xe4b->x1644} .= ${$this->x26->xe53->x354b}; } if (!$this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->xfdb}}}}->{$this->x7f->xe4b->x2584}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}})) { if (!$xe09($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xed6}}}})) { ${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->x3366}}}}} .= '<tr><td><b>' . __('No data') . '</b></td></tr>'; } ${$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->{$this->x7f->xe53->{$this->x26->xe53->x3366}}}}} .= '</table>'; } return ${$this->x7f->xe62->{$this->x26->xe62->x50ed}}; } else {  if (!$this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['repeat_for_each']) { ${$this->xce->xe4b->{$this->x7f->xe4b->x1822}} = $this->{$this->x7f->xe53->x2dff}->{$this->xce->xe4b->x287d}() . $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['path']; ${$this->x7f->xe62->x5128} = $this->{$this->x26->xe4b->{$this->xce->xe4b->x1082}}->{$this->x7f->xe4b->x2425}($this->{$this->xce->xe53->x2cb9}['date_format'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['name'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['type'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xeb3}}); if ($xe09($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xed6}}}})) {  ${$this->x7f->xe4b->x1869} = $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1085}}}->{$this->x7f->xe4b->x2425}($this->{$this->xce->xe53->x2cb9}['date_format'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['name'], $this->{$this->xce->xe53->x2cb9}['type'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xeb3}}, false); $this->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->xfbc}}}->{$this->xce->xe4b->x28ad}(${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->x7f->xe53->x3563}}}} . ${$this->x26->xe53->x35a7}); $this->{$this->xce->xe4b->{$this->x26->xe4b->xfb7}}->{$this->x26->xe4b->x28b8}(${$this->xce->xe4b->{$this->x7f->xe4b->x1822}} . ${$this->x7f->xe53->{$this->xce->xe53->x33b9}}, ${$this->x26->xe53->{$this->x26->xe53->x355d}} . ${$this->x7f->xe53->{$this->x7f->xe53->{$this->x7f->xe53->{$this->x26->xe53->x35ae}}}}); $this->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x7f->xe4b->x10d5}}}->{$this->x7f->xe4b->x23ce}("o\x72\x64e\x72se\x78\x70o\162\x74\164o\x6f\154_e\x78\160\157\x72t\x5f\141\x66\x74\x65\162", ['profile' => $this, 'filepath' => ${$this->x26->xe62->{$this->x26->xe62->x529c}}, 'filename' => ${$this->x26->xe62->x52d9}]); ${$this->x7f->xe53->{$this->x26->xe53->x335a}}[] = ${$this->x7f->xe4b->x1869}; } $this->{$this->x26->xe53->x2d6a}->{$this->xce->xe4b->x28ad}(${$this->x26->xe53->x3559} . ${$this->xce->xe4b->{$this->x7f->xe4b->x1697}}); }  $this->{$this->xce->xe4b->x2a7d}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xeb4}}}); if ($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['automatically_update_last_order_id'] && !empty(${$this->x7f->xe53->x3373})) { if (!$xd31(${$this->xce->xe53->{$this->x7f->xe53->{$this->x7f->xe53->x337b}}}->{$this->x7f->xe4b->x2a8d}())) { $this->{$this->xce->xe4b->x2a9b}(${$this->xce->xe4b->x165b}->{$this->x7f->xe4b->x2a8d}()); } else { $this->{$this->xce->xe4b->x2a9b}(${$this->xce->xe62->{$this->x7f->xe62->x5101}}->{$this->x7f->xe4b->x2a8d}() + 1); } } $this->{$this->x26->xe4b->x2927}();  ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->x52e0}}} = $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1085}}}->{$this->x7f->xe4b->x2425}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['date_format'], $this->{$this->xce->xe53->x2cb9}['name'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['type'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->xce->xe4b->xeb4}}}, false); if ($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['ftp_enabled'] && !$this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['repeat_for_each'] && ${$this->x7f->xe62->{$this->xce->xe62->{$this->x7f->xe62->x50d8}}} > 1) { $this->{$this->xce->xe4b->{$this->xce->xe4b->x10df}}->{$this->x7f->xe4b->x28d5}($this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['use_sftp'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['ftp_active'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['ftp_host'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['ftp_port'], $this->{$this->xce->xe53->x2cb9}['ftp_login'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['ftp_password'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['ftp_dir'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['path'], ${$this->x26->xe53->x35a7}); $this->{$this->xce->xe4b->{$this->xce->xe4b->x10d3}}->{$this->x7f->xe4b->x23ce}("\157\x72de\162\x73\x65xp\x6f\162\164t\x6f\157l_\x75p\154\x6f\141\x64\137\141fte\x72", ['profile' => $this, 'filepath' => $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['path'], 'filename' => ${$this->x26->xe62->{$this->x26->xe62->{$this->x26->xe62->{$this->x26->xe62->{$this->x7f->xe62->x52e7}}}}}]); }  if ($this->{$this->xce->xe53->x2cb9}['mail_enabled'] && $xe09(${$this->xce->xe62->x50de}) > 0 && ${$this->x7f->xe62->x50d0} > 1) { if ($this->{$this->xce->xe53->x2cb9}['mail_one_report']) { if ($this->{$this->xce->xe53->x2cb9}['mail_zip']) { ${$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->{$this->x26->xe53->x35bb}}}} = new \ZipArchive(); ${$this->x7f->xe62->x52f5} = ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->x52e0}}} . "\56\x7a\151p"; if (${$this->xce->xe62->x52eb}->{$this->xce->xe4b->x2b17}($this->{$this->x7f->xe53->x2dff}->{$this->xce->xe4b->x287d}() . $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['path'] . ${$this->x7f->xe53->{$this->xce->xe53->{$this->x7f->xe53->x35cd}}}, \ZipArchive::CREATE) !== true) { $this->{$this->x7f->xe53->x36e7}(__("\103\141\x6en\x6f\164\x20c\162\x65\141\164\145\40\132i\x70\x20file")); } foreach (${$this->x7f->xe53->{$this->x26->xe53->x335a}} as ${$this->x26->xe62->{$this->x7f->xe62->{$this->xce->xe62->x52ff}}}) { ${$this->xce->xe4b->{$this->x7f->xe4b->x1875}}->{$this->x7f->xe4b->x2b41}(${$this->xce->xe53->{$this->x7f->xe53->x35d3}}, $xd66($this->{$this->x7f->xe53->x2dff}->{$this->xce->xe4b->x287d}() . $this->{$this->xce->xe53->x2cb9}['path'] . ${$this->x7f->xe62->x52f9})); } ${$this->x26->xe53->x35b3}->{$this->x26->xe4b->x286e}(); ${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x189b}}} = $xdc4(',', $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['mail_recipients']); foreach (${$this->x7f->xe4b->{$this->x26->xe4b->x1897}} as ${$this->xce->xe53->{$this->x7f->xe53->x35f1}}) { ${$this->xce->xe4b->x189c} = $xdd2(${$this->xce->xe53->x35ec}); if (${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->x5316}}} != "") { if ($this->{$this->xce->xe4b->{$this->x7f->xe4b->x10ef}}->{$this->x26->xe4b->x2b5c}($this->{$this->xce->xe53->x2cb9}['mail_sender'], ${$this->x26->xe4b->{$this->x7f->xe4b->x18a1}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['mail_subject'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['mail_message'], ${$this->x7f->xe53->{$this->xce->xe53->{$this->x7f->xe53->x35cd}}}, $this->{$this->xce->xe53->x2cb9}['path'], 'zip')) { $this->{$this->x26->xe4b->{$this->x7f->xe4b->x1970}}($xdf2(__("F\151\154\x65\163\x20s\x75cc\x65\x73s\x66u\x6c\154\x79\x20s\x65\156\164\40\164o %\163\56"), ${$this->x26->xe4b->{$this->x7f->xe4b->x18a1}})); } } } $this->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->xfbc}}}->{$this->xce->xe4b->x28ad}(${$this->xce->xe4b->{$this->xce->xe4b->x1882}}); } else { ${$this->xce->xe53->{$this->x26->xe53->x35e5}} = $xdc4(',', $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['mail_recipients']); foreach (${$this->x7f->xe62->x5302} as ${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->x5316}}}) { ${$this->xce->xe53->{$this->x7f->xe53->x35f1}} = $xdd2(${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->x5316}}}); if (${$this->x7f->xe62->x5310} != "") { if ($this->{$this->xce->xe4b->{$this->x7f->xe4b->x10ef}}->{$this->x26->xe4b->x2b5c}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['mail_sender'], ${$this->x26->xe62->{$this->x7f->xe62->x5314}}, $this->{$this->xce->xe53->x2cb9}['mail_subject'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['mail_message'], ${$this->x26->xe62->{$this->x26->xe62->x50e2}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['path'], $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1085}}}->{$this->xce->xe4b->x2b9a}($this->{$this->xce->xe53->x2cb9}['type']))) { $this->{$this->xce->xe53->x36d8}($xdf2(__("\106\x69l\x65\163\40s\165\143\x63\x65\163\163\x66ully\x20\163\x65\156t \164o\40%\163\56"), ${$this->xce->xe53->x35ec})); } } } } }  else { ${$this->xce->xe4b->x1895} = $xdc4(',', $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['mail_recipients']); foreach (${$this->x7f->xe4b->{$this->x7f->xe4b->x163d}} as ${$this->x26->xe4b->{$this->x7f->xe4b->x1891}}) { foreach (${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x189b}}} as ${$this->x7f->xe62->x5310}) { ${$this->x26->xe62->{$this->x26->xe62->{$this->x7f->xe62->{$this->xce->xe62->{$this->x7f->xe62->x531e}}}}} = $xdd2(${$this->x26->xe62->{$this->x26->xe62->{$this->xce->xe62->x5316}}}); if (${$this->x26->xe62->{$this->x26->xe62->{$this->x7f->xe62->{$this->x7f->xe62->x531a}}}} != "") { if ($this->{$this->xce->xe4b->{$this->x7f->xe4b->x10ef}}->{$this->x26->xe4b->x2b5c}($this->{$this->xce->xe53->x2cb9}['mail_sender'], ${$this->xce->xe53->{$this->x7f->xe53->x35f1}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['mail_subject'], $this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['mail_message'], ${$this->x26->xe53->x35d2}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['path'], $this->{$this->x7f->xe53->x2dff}->{$this->xce->xe4b->x2b9a}($this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['type']))) { $this->{$this->x7f->xe62->x540c}($xdf2(__("\106\x69\154\x65\x20" . ${$this->xce->xe4b->x188e} . "\x20suc\143\x65s\x73\x66\x75\154l\x79\x20\163\x65nt \x74\x6f\x20%\x73\x2e"), ${$this->x7f->xe62->x5310})); } } } } } } ${$this->x26->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->x7f->xe53->x3563}}}} = $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1085}}}->{$this->xce->xe4b->x287d}() . $this->{$this->xce->xe53->x2cb9}['path']; if ($this->{$this->xce->xe53->x2cb9}['storage_enabled'] && $xe09($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xed4}}})) { foreach (${$this->x7f->xe4b->{$this->x7f->xe4b->x163d}} as ${$this->x26->xe62->{$this->x26->xe62->x52fd}}) { $this->{$this->x26->xe4b->{$this->x26->xe4b->{$this->x26->xe4b->x1972}}}($xdf2(__("\x46\x69\x6c\x65\40\45\x73 \x65\x78po\x72t\145d t\x6f \x25\x73\56"), ${$this->xce->xe53->{$this->xce->xe53->{$this->x7f->xe53->{$this->xce->xe53->x35da}}}}, $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['path'])); } } if (!$this->{$this->x7f->xe4b->{$this->xce->xe4b->xec1}}['storage_enabled']) { foreach (${$this->xce->xe62->x50de} as ${$this->xce->xe4b->x188e}) { $this->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->xfbc}}}->{$this->xce->xe4b->x28ad}(${$this->x26->xe53->{$this->x26->xe53->x355d}} . ${$this->x26->xe53->x35d2}); } } ${$this->xce->xe53->{$this->x26->xe53->x35fd}} = __("\120\162\157f\x69\154e\x20%\61\40s\x75\143\143e\163\163\x66\x75\154\x6c\171\x20\145x\145\143\165te\x64\54\40\40\45\62\40\x20\x6fr\x64e\162\x73\x20\x65x\160\157\x72te\x64", $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->xec4}}}['name'], $xe09($this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xed6}}}})); $this->{$this->xce->xe53->{$this->xce->xe53->x2e43}}->log(${$this->x7f->xe53->x35f8}, true, ProgressHelper::SUCCEEDED, 100); $this->{$this->xce->xe53->x36d8}("\74b\76\74spa\156\40\164i\164\x6ce\75'" . $xe17(",", $this->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->xed6}}}}) . "'>\40" . ${$this->x26->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x18af}}}}} . ".\x3c\x2fsp\x61n\x3e<\x2f\x62\x3e\40"); return $this; } } catch (\Exception $e) { $this->{$this->x26->xe4b->{$this->x26->xe4b->x10fe}}->log($e->{$this->x7f->xe4b->x1e28}(), true, ProgressHelper::ERROR); throw new \Exception($e->{$this->x7f->xe4b->x1e28}()); } }  protected function addSuccess($xe2e) { if ($this->{$this->x7f->xe53->x2d96}->{$this->x7f->xe4b->x2c22}()) { $this->{$this->x7f->xe4b->{$this->xce->xe4b->{$this->x7f->xe4b->x1079}}}->{$this->x7f->xe4b->x2b6a}(${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->{$this->xce->xe4b->x18b7}}}}); } }  protected function addError($xe39) { if ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->{$this->x26->xe4b->x1003}}}->{$this->x7f->xe4b->x2c22}()) { $this->{$this->x7f->xe53->x2df0}->{$this->xce->xe4b->x1e06}(${$this->x7f->xe4b->{$this->x7f->xe4b->{$this->xce->xe4b->x18be}}}); } }  protected function isLogEnabled() { return ($this->{$this->x7f->xe4b->{$this->x7f->xe4b->x1001}}->{$this->x26->xe4b->x2439}('ordersexporttool/advanced/enable_log')) ? true : false; } }